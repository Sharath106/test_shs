{
  "name": "efd551c7-0166-494a-b868-a145c3bc9c9b",
  "displayName": "_RPC Confirm RPC",
  "form": {
  
  },
  "entryFulfillment": {
    "webhook": "Rate Plan Change",
    "tag": "confirm_rate_plan_change",
    "setParameterActions": [ {
      "parameter": "intent",
      "value": "acctmgmt"
    }, {
      "parameter": "last_page",
      "value": "_RPC Confirm RPC"
    } ],
    "advancedSettings": {
      "playbackInterruptionSettings": {
      
      }
    }
  },
  "transitionRoutes": [ {
    "condition": "$session.params.qatest = true",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "error_code",
        "value": null
      } ]
    },
    "name": "9649b11b-ce07-4ff1-9ff9-73972f0e2bfe"
  }, {
    "condition": "$session.params.error_code != null AND $session.params.api_delay = \"false\" AND $session.params.error_retry != \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Please wait, I'm still working on your request." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Veuillez patienter, je travaille toujours sur votre demande." ]
        },
        "languageCode": "fr-ca"
      } ],
      "webhook": "Rate Plan Change",
      "tag": "confirm_rate_plan_change",
      "setParameterActions": [ {
        "parameter": "error_code",
        "value": null
      }, {
        "parameter": "api_delay",
        "value": null
      }, {
        "parameter": "error_full_response",
        "value": null
      }, {
        "parameter": "error_api_name",
        "value": null
      }, {
        "parameter": "error_retry",
        "value": "1"
      } ]
    },
    "name": "7c6eeeab-0a3b-4f79-b3b1-bbbe6cb09f86"
  }, {
    "condition": "$session.params.error_code != null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, I'm having issues with your request. " ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Let me transfer you to a team member to help you complete the plan change.", "Let me get you to a team member to complete the plan change.", "Let me connect you with a team member to complete the plan change." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, j'ai quelques difficultés avec votre demande." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Permettez-moi de vous mettre en communication avec un membre de l'équipe afin de vous aider à compléter le changement de forfait. ", "Permettez-moi de vous mettre en contact avec un membre de l'équipe afin de compléter le changement de forfait.", "Permettez-moi de vous mettre en relation avec un membre de l'équipe pour compléter le changement de forfait. " ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "error_code",
        "value": null
      }, {
        "parameter": "api_delay",
        "value": null
      }, {
        "parameter": "error_full_response",
        "value": null
      }, {
        "parameter": "error_api_name",
        "value": null
      }, {
        "parameter": "error_retry",
        "value": null
      }, {
        "parameter": "handoff_auto",
        "value": "$params.session.last_page"
      } ]
    },
    "name": "17f3a9aa-a07d-461f-9cf0-509a59f4f877"
  }, {
    "condition": "true",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "You have successfully completed the plan change." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "A confirmation email has been sent to the account owner with a summary of the changes." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Vous avez terminé le changement de forfait avec succès." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Un courriel de confirmation vous a été envoyé avec un résumé des changements." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "transaction",
        "value": "rate plan change"
      } ]
    },
    "targetPage": "Anything Else",
    "name": "6125c1c8-6f83-4b46-97c9-87ec3a162827"
  } ],
  "eventHandlers": [ {
    "targetPage": "Agent Handoff Redirect",
    "event": "webhook.error",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, I'm having issues with your request." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Would you like to speak to someone now?", "Would you like to review this further?", "Do you want to be connected to someone now?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, j'ai quelques difficultés avec votre demande." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Aimeriez-vous parler à quelqu'un maintenant?", "Voudriez-vous examiner cela de plus près?", "Voulez-vous être mis en contact avec quelqu'un maintenant?" ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "ec98f3c9-1372-4c16-8486-72293d32a0d5"
  } ]
}
