{
  "name": "58f63931-9cd2-4178-ab71-c1e9ce182832",
  "displayName": "Confirm Selected Plan",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_confirm_selected_plan",
      "required": true,
      "entityType": "@dtmf-menu",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm not sure I understand." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like to change to this plan?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne pense pas avoir compris.." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Voulez-vous changer votre forfait pour celui-ci?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "cd30f488-0492-4ad5-8a5e-8c8c14bc0101"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm still not understanding." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "For yes, say or press 1, for no, say or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne comprends toujours pas." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Pour oui, dites ou appuyez sur 1, pour non, dites ou appuyez sur 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "306b6ecc-835b-4cf5-a05c-d0ec7005a788"
        }, {
          "targetFlow": "Universal handoff",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I still don't understand." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne comprends toujours pas." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "2252c811-b47e-4e0b-b073-41e63e3c987c"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm not sure I understand." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like to change to this plan?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne crois pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Voulez-vous changer votre forfait pour celui-ci?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "f4c37bcb-daad-4240-9fb5-706f77135cdd"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm still not understanding." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "For yes, say or press 1, for no, say or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne comprends toujours pas." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Pour oui, dites ou appuyez sur 1, pour non, dites ou appuyez sur 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "bd638c7e-a457-44af-bfd7-9295687b9de5"
        }, {
          "targetFlow": "Universal handoff",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I still don't understand." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne comprends toujours pas." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "d0df7f74-759f-4b34-baeb-7f7c7fc97fae"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 10
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "Would you like to change to this plan?", "Would you like to switch to this plan?" ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Voulez-vous changer votre forfait pour celui-ci?", "Souhaitez-vous vous abonner à ce forfait?", "Voulez-vous sélectionner ce forfait?" ]
      },
      "languageCode": "fr-ca"
    } ],
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Confirm Selected Plan"
    }, {
      "parameter": "selected_plan_code",
      "value": "$session.params.selected_plan_details.serviceCode"
    } ],
    "advancedSettings": {
      "playbackInterruptionSettings": {
      
      }
    }
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Great.", "Good.", "Alright.", "Got it.", "Ok." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Parfait.", "Super.", "Très bien.", "C'est compris.", "OK." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "reason_4_call",
        "value": "\"$sys.func.CONCATENATE(\"From flow plans available / intent change plan - Customer wants to change plan to Service Code: \", $session.params.selected_plan_code, \". Please review and assist. Thank you!\")\""
      } ]
    },
    "targetPage": "_RPC Fetch Selected Plan Code",
    "name": "1fa7effd-a4d9-4fac-b3a3-a420cb222391"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Got it.", "No worries.", "Ok.", "Alright." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Je comprends.", "Pas de problème.", "OK.", "Très bien." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "Check Another Plan",
    "name": "2c78b9bb-1f75-416a-86c8-6cb10dec0bf5"
  }, {
    "condition": "true",
    "triggerFulfillment": {
      "conditionalCases": [ {
        "cases": [ {
          "condition": "is_combo_plan = \"true\" OR is_shared_data_plan = \"true\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Please note that other lines on the account may affect your eligibility for family discounts, especially if they are expired plans." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "*Veuillez noter que les autres lignes connectées à votre compte pourraient affecter votre éligibilité aux rabais famille, particulièrement si certains de ces forfaits sont expirés.*" ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "b67ec26d-1f79-455e-8eb9-b7c9e848622f"
  }, {
    "condition": "$session.params.dtmf_confirm_selected_plan = \"1\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "_RPC Fetch Selected Plan Code",
    "name": "cf45c86b-fd0f-450b-9201-3945019290c3"
  }, {
    "condition": "$session.params.dtmf_confirm_selected_plan = \"2\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Check Another Plan",
    "name": "0abc14b8-27c8-40c7-b27c-05e2873570de"
  } ],
  "transitionRouteGroups": [ "Plan Options - Transactional", "Plan Options - Informational", "FAQs" ]
}
