{
  "name": "9a876458-d36e-4610-ab28-ccb25a4b8273",
  "displayName": "SS Mandatory sms_sent_list_notcontains_last_page",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_req_sms",
      "required": true,
      "entityType": "@dtmf-menu-1-2-0",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Instead of waiting on hold, would you like me to send you a text message with a link where you can quickly make the change online?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Au lieu de rester en attente, aimeriez-vous que je vous envoie un message texte avec un lien où vous pouvez rapidement apporter le changement en ligne?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "1f4aa77f-ccac-461c-963a-a1aa2a8779dd"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text, say yes, or press 1. Otherwise, say no, or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous souhaitez recevoir le texte, dites oui ou appuyez sur 1. Sinon, dites non ou appuyez sur 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "26931348-7414-4744-abcb-b0b9c3a49828"
        }, {
          "targetPage": "No match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "056fe30b-a166-42ca-8582-13f7568986b1"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Instead of waiting on hold, would you like me to send you a text message with a link where you can quickly make the change online?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Au lieu de rester en attente, aimeriez-vous que je vous envoie un message texte avec un lien où vous pouvez rapidement apporter le changement en ligne?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "9f0d3f5c-fd5c-4b46-8e17-f6f130adc1b4"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text, say yes, or press 1. Otherwise, say no, or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous souhaitez recevoir le texte, dites oui ou appuyez sur 1. Sinon, dites non ou appuyez sur 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "78b04a5c-cf9c-4c2a-bafe-61908f93030d"
        }, {
          "targetPage": "No match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "38c4fd46-82eb-4859-abaa-e920e81def24"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page2",
      "value": "ss mandatory smslist_notcontains_last_page"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "$session.params.targetAccount.isSelfserveMandatory = true",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "The transaction you're calling about is only available online. Instead of waiting on hold, would you like me to send you a text message with a link where you can quickly make the change online?" ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "La transaction pour laquelle vous appelez est seulement disponible en ligne.  Au lieu de rester en attente, aimeriez-vous que je vous envoie un message texte avec un lien où vous pouvez rapidement apporter le changement en ligne?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "The transaction you're calling about is also available online. Instead of waiting on hold, would you like me to send you a text message with a link where you can quickly make the change online?" ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "La transaction pour laquelle vous appelez est aussi disponible en ligne. Au lieu de rester en attente, aimeriez-vous que je vous envoie un message texte avec un lien où vous pouvez rapidement apporter le changement en ligne?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "dtmf_req_sms",
        "value": null
      }, {
        "parameter": "dtmf_received_text_yesno",
        "value": "2"
      }, {
        "parameter": "sms_phone_number",
        "value": null
      } ]
    },
    "targetPage": "SS Mandatory sms_sent_list_notcontains_last_page_reroute",
    "name": "5087561b-88e1-4022-abe2-e060688236f2"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "$session.params.targetAccount.isSelfserveMandatory = \"true\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "SS Mandatory targetaccount_true Agent HO Handler",
    "name": "4871db69-dfdc-41ec-ba99-b8aed2af61a0"
  }, {
    "intent": "small_talk.agent_redirect",
    "condition": "$session.params.targetAccount.isSelfserveMandatory = \"true\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "SS Mandatory targetaccount_true Agent HO Handler",
    "name": "c38eb310-447d-4f25-9c62-d0396683b139"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Ok, let me transfer you to a team member.\r\nPlease stay on the line, and you'll be connected to someone as soon as they are available." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi vous mettre en communication avec un membre de l'équipe, restez en ligne et vous serez connecté à quelqu'un dès qu'il sera disponible." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "509bc1c2-ecff-475e-9cfc-a94cef60cf9e"
  }, {
    "intent": "small_talk.agent_redirect",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Ok, let me transfer you to a team member.\r\nPlease stay on the line, and you'll be connected to someone as soon as they are available." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi vous mettre en communication avec un membre de l'équipe, restez en ligne et vous serez connecté à quelqu'un dès qu'il sera disponible." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "dd3ff747-8df0-4025-bd04-827b353a077f"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
    
    },
    "targetPage": "End page",
    "name": "fb39f2d6-dd9a-426b-9ab7-6858ec93923a"
  }, {
    "condition": "$session.params.dtmf_req_sms = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "dtmf_req_sms",
        "value": null
      }, {
        "parameter": "dtmf_received_text_yesno",
        "value": "2"
      }, {
        "parameter": "sms_phone_number",
        "value": null
      } ]
    },
    "targetPage": "SS Mandatory sms_sent_list_notcontains_last_page_reroute",
    "name": "2dab68d0-2004-48e4-a363-bfef045f6661"
  }, {
    "condition": "$session.params.dtmf_req_sms = \"2\" AND $session.params.targetAccount.isSelfserveMandatory = \"true\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "dtmf_req_sms",
        "value": null
      } ]
    },
    "targetPage": "SS Mandatory targetaccount_true Agent HO Handler",
    "name": "8e177348-6697-4a0e-92ab-ef9ce30e9976"
  }, {
    "condition": "$session.params.dtmf_req_sms = \"2\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Ok, let me transfer you to a team member.\r\nPlease stay on the line, and you'll be connected to someone as soon as they are available." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi vous mettre en communication avec un membre de l'équipe, restez en ligne et vous serez connecté à quelqu'un dès qu'il sera disponible." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_req_sms",
        "value": null
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "30b0646c-50b4-460a-9947-2d61c0dfbfa6"
  }, {
    "condition": "$session.params.dtmf_req_sms = \"0\" AND $session.params.targetAccount.isSelfserveMandatory = \"true\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "dtmf_req_sms",
        "value": null
      } ]
    },
    "targetPage": "SS Mandatory targetaccount_true Agent HO Handler",
    "name": "1106b8b5-889d-42fb-ac2e-0812af77a8b3"
  }, {
    "condition": "$session.params.dtmf_req_sms = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Ok, let me transfer you to a team member.\r\nPlease stay on the line, and you'll be connected to someone as soon as they are available." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi vous mettre en communication avec un membre de l'équipe, restez en ligne et vous serez connecté à quelqu'un dès qu'il sera disponible." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_req_sms",
        "value": null
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "8dfd287f-86a4-4c7b-a5b0-073ec5ac4354"
  } ]
}
