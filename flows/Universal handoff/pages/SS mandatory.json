{
  "name": "dc9826aa-a9d7-4576-888c-24b625583c17",
  "displayName": "SS mandatory",
  "form": {
  
  },
  "entryFulfillment": {
  
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_no",
    "condition": "\"Billing while roaming\" : $session.params.last_page AND $session.params.async_intent = true AND $session.params.ss_man_async_no = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "ss_man_async_no",
        "value": "1"
      } ]
    },
    "targetPage": "End page",
    "name": "3f18150d-b1fd-495b-9d9a-24a5d73efc95"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "\"Data TU or FP attempt two / Is Easy Roam active / Easy Roam active date / Everything Roaming / Billing while roaming / Roaming Coverage / Add Easy Roam / Add Easy Roam online or app / Block data / Fast Pass / Data top up or Fast pass / Call control / Rate plan change / Rate plan change issues\" : $session.params.last_page",
    "triggerFulfillment": {
    
    },
    "targetPage": "End page",
    "name": "6fb7f4ad-4ce4-492a-be1d-b1bd5bfe6132"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "\"Change Phone Number SMS / Change Bill Address / Change Bill Address attempt two / Change PIN attempt two / Enable or disable data / Activate SIM / Activate Sim online or app / Forgot PIN / Change PIN / Account Status / find account number /  Change Phone Number / Enable or disable data online or app\" : $session.params.last_page",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Account Management",
    "name": "80421f38-05fd-4aaa-accd-d6427e8007de"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "\"Purchase SIM card\" : $session.params.last_page",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Equipment",
    "name": "4bb071f0-c2d1-4660-a63d-e76681ff77c3"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "\"Bill notifications or eBill / Bill and balance\" : $session.params.last_page",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Billing",
    "name": "194ce704-83be-4e5f-b41a-dac0e040c0c8"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "\"RaP attempt two / Report a Payment / Payment Arrangement / Payments arrangement online or app\" = $session.params.last_page",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Payment",
    "name": "cc8d54be-dbcc-4649-a8a4-c2e53fb626f8"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "\"Reset password\" = $session.params.last_page",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Online Profile",
    "name": "a5d31d4f-0b7a-45e4-a52b-c2c8d3984079"
  }, {
    "intent": "small_talk.confirmation_yes",
    "condition": "$session.params.async_intent = true AND $session.params.targetAccount.isSelfserveMandatory = true AND $session.params.ss_mandatory_intent = \"true\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To get you to a team member for support, I'll connect you to TELUS expert messaging on the my TELUS app which is the most convenient way to get support." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "You’ll describe what you need help with and our TELUS expert will work on a resolution as quickly as possible while you go about your day. You won't have to stay in the app because we'll notify you when they respond." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "async_agent_count",
        "value": "2"
      }, {
        "parameter": "ss_mandatory_intent",
        "value": null
      } ]
    },
    "targetFlow": "SMS Flow Modular",
    "name": "d93df8af-73a1-4f28-9d2b-1a85cb1e4ade"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Bien sûr, laissez-moi vous mettre en contact avec un membre de l'équipe." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "ba7f5150-8066-445d-8898-0fe3acacfcc1"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.async_intent = true AND $session.params.targetAccount.isSelfserveMandatory = true AND $session.params.ss_mandatory_intent = \"true\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "async_agent_count",
        "value": "2"
      }, {
        "parameter": "ss_mandatory_intent",
        "value": null
      } ]
    },
    "targetPage": "Async check high 2",
    "name": "f368a74c-4051-4261-a3f7-98547e110c9f"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Bien sûr, laissez-moi vous mettre en contact avec un membre de l'équipe." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "1791236e-57fc-4523-b33e-6108a1d740e1"
  }, {
    "condition": "$session.params.handoff_type = \"self_serve\" OR $session.params.ss_mandatory_error = \"true\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "92dfd2a6-24bf-4b2c-92af-32a6dd3ca970"
  }, {
    "condition": "$session.params.old_route != null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "$session.params.old_route"
      } ]
    },
    "name": "617eb24a-ee0e-42bc-9e59-b141b723c370"
  }, {
    "condition": "$session.params.ss_man_async_no = \"1\" AND ($session.params.targetAccount.isSelfserveMandatory = null OR $session.params.targetAccount.isSelfserveMandatory = false)",
    "triggerFulfillment": {
    
    },
    "targetPage": "Async check low",
    "name": "91635610-739a-42ca-841a-7be35ec0dc2c"
  }, {
    "condition": "\"Change Bill Address / Change Bill Address attempt two / RaP attempt two / Report a Payment / Data TU or FP attempt two / Change PIN attempt two / Is Easy Roam active / Easy Roam active date / Everything Roaming / Billing while roaming / Roaming Coverage / Roaming coverage text / Add Easy Roam / Add easy roam online or app / Enable or disable data / Block data / Enable or disable data online or app / Fast Pass / Data top up or Fast pass / Purchase SIM card / Activate SIM / Activate Sim online or app / Bill notifications or eBill / Payment Arrangement / Payments arrangement online or app / Forgot PIN / Change PIN / Reset password / Call control / Bill and balance / Account Status / find account number\" : $session.params.last_page AND $session.params.targetAccount.isSelfserveMandatory = true",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "ss_mandatory_intent",
        "value": "true"
      }, {
        "parameter": "old_route",
        "value": null
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.async_intent = true AND $session.params.conversation.language = \"en-US\" AND $session.params.ss_man_async_no = null",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "The transaction you're calling about is only available online. Please know that our team members don't have access to complete the change for you, but they can guide you through the process online. Do you still want to connect to a team member?" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.ss_man_async_no = \"1\""
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "The transaction you're calling about is only available online. Please know that our team members don't have access to complete the change for you, but they can guide you through the process online. Do you still want to wait on hold?" ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "La transaction pour laquelle vous appelez est seulement disponible en ligne. Sachez qu'un membre de l'équipe  n'aura pas accès à effectuer le changement pour vous, mais il peut vous guider tout au long du processus en ligne. Souhaitez-vous quand même patienter pour un membre de l'équipe?" ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "fd1663d4-2a3e-4e9a-b9da-604897db3a18"
  }, {
    "condition": "$session.params.async_agent_count = \"3\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "ec52c933-ec6d-43a3-9ca6-bf68928fc0e0"
  }, {
    "condition": "\"billexp anything else / bill breakdown confirmation / Charge By Amount Display / Charge Type Capture / check older month / is multiple charge / monthly charges 2 / offer add package / offer new plan / Payment Overdue / select_current_bill / select_previous_bill / view bill breakdown online or app / Account update info / Account Vague Disambiguation / BillDisambiguation / Missing credit / Discount expiring\" : $session.params.last_page AND $session.params.conversation.language = \"en-US\" AND ($session.params.device_type = \"FEAT_PHONE\" OR $session.params.device_type = \"WIRELSS_HOME_PHONE\")",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "764efbb3-cca7-4ef7-8b05-01c0ac1d3d44"
  }, {
    "condition": "$session.params.async_intent = true AND ($session.params.targetAccount.isSelfserveMandatory = false OR $session.params.targetAccount.isSelfserveMandatory = null)",
    "triggerFulfillment": {
    
    },
    "targetPage": "Async check low",
    "name": "78934fe0-6f74-4baa-a151-e8c23ca6e92b"
  }, {
    "condition": "$session.params.ss_man_async_no = \"1\" AND $session.params.targetAccount.isSelfserveMandatory = true",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To get you to a team member for support, I'll connect you to TELUS expert messaging on the my TELUS app which is the most convenient way to get support." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "You’ll describe what you need help with and our TELUS expert will work on a resolution as quickly as possible while you go about your day. You won't have to stay in the app because we'll notify you when they respond." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "async_agent_count",
        "value": "3"
      }, {
        "parameter": "from_page_ssman_hi_async",
        "value": "1"
      } ]
    },
    "targetPage": "Async check high 2",
    "name": "0d126172-a7d3-4bf7-8f63-a1feb7f18bb8"
  }, {
    "condition": "\"Change Bill Address / Change Bill Address attempt two / RaP attempt two / Report a Payment / Data TU or FP attempt two / Change PIN attempt two / Is Easy Roam active / Easy Roam active date / Everything Roaming / Billing while roaming / Roaming Coverage / Roaming coverage text / Add Easy Roam / Add easy roam online or app / Enable or disable data / Block data / Enable or disable data online or app / Fast Pass / Data top up or Fast pass / Purchase SIM card / Activate SIM / Activate Sim online or app / Bill notifications or eBill / Payment Arrangement / Payments arrangement online or app / Forgot PIN / Change PIN / Reset password / Call control / Bill and balance / Account Status / find account number\" : $session.params.last_page AND ($session.params.targetAccount.isSelfserveMandatory = false OR $session.params.targetAccount.isSelfserveMandatory = null)",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "ss_mandatory_intent",
        "value": "true"
      }, {
        "parameter": "old_route",
        "value": null
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.async_intent = true AND $session.params.conversation.language = \"en-US\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "The transaction you're calling about is also available online. Do you still want to connect to a team member" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "The transaction you're calling about is also available online. Do you still want to wait on hold?" ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "La transaction pour laquelle vous appelez est aussi disponible en ligne. Souhaitez-vous quand même patienter pour un membre de l'équipe?" ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "4e810bbc-8e27-4dc8-a240-e4cc044dd71e"
  }, {
    "condition": "$session.params.last_page : \"Rate plan change\" OR (($session.params.last_page = \"Change Phone Number\" OR $session.params.last_page = \"Change Phone Number SMS\") AND $session.params.change_num_province != \"true\")",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Before I get you to a team member, I'd like to note that this transaction is self-serve only and requires a My TELUS account to be completed. Having assistance may result in a service fee being applied to your account." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Would you still like to speak with a team member?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Veuillez noter que cette transaction est en libre-service uniquement et nécessite un compte Mon TELUS pour être complétée. L'assistance d'un agent peut entraîner des frais de service." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Souhaitez-vous toujours poursuivre avec un agent?" ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "ss_mandatory_intent",
        "value": "true"
      }, {
        "parameter": "old_route",
        "value": null
      } ]
    },
    "name": "fa8b7e23-0695-4b08-b56c-290ca9f39c37"
  }, {
    "condition": "$session.params.async_intent = true AND $session.params.targetAccount.isSelfserveMandatory = true AND $session.params.ss_mandatory_intent != true",
    "triggerFulfillment": {
    
    },
    "targetPage": "Async check High",
    "name": "b685bddf-faeb-423c-afe2-2fc53d30ce3d"
  }, {
    "condition": "\"billexp anything else / bill breakdown confirmation / Charge By Amount Display / Charge Type Capture / check older month / is multiple charge / monthly charges 2 / offer add package / offer new plan / Payment Overdue / select_current_bill / select_previous_bill / view bill breakdown online or app / Account update info / Account Vague Disambiguation / BillDisambiguation / Missing credit / Discount expiring\" : $session.params.last_page AND $session.params.async_intent = true AND $session.params.conversation.language = \"en-US\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "from_page_ssman_hi_async",
        "value": null
      } ]
    },
    "targetPage": "Async check High",
    "name": "5f67ad08-83f9-4314-ad64-18e83cf6869f"
  }, {
    "condition": "\"billexp anything else / bill breakdown confirmation / Charge By Amount Display / Charge Type Capture / check older month / is multiple charge / monthly charges 2 / offer add package / offer new plan / Payment Overdue / select_current_bill / select_previous_bill / view bill breakdown online or app / Account update info / Account Vague Disambiguation / BillDisambiguation / Missing credit / Discount expiring\" : $session.params.last_page AND $session.params.conversation.language = \"fr-CA\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "9f9299e1-114d-4a75-9ec5-04a567c2ab80"
  }, {
    "condition": "\"billexp anything else / bill breakdown confirmation / Charge By Amount Display / Charge Type Capture / check older month / is multiple charge / monthly charges 2 / offer add package / offer new plan / Payment Overdue / select_current_bill / select_previous_bill / view bill breakdown online or app / Account update info / Account Vague Disambiguation / BillDisambiguation / Missing credit / Discount expiring\" : $session.params.last_page AND $session.params.conversation.language = \"en-US\" AND ($session.params.area_code = \"418\" OR $session.params.area_code = \"514\" OR $session.params.area_code = \"450\" OR $session.params.area_code = \"819\" OR $session.params.area_code = \"581\" OR $session.params.area_code = \"579\" OR $session.params.area_code = \"873\" OR $session.params.area_code = \"468\" OR $session.params.area_code = \"367\" OR $session.params.area_code = \"438\" OR $session.params.area_code = \"354\" OR $session.params.area_code = \"263\")",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "61d6d6ae-4a86-498e-8dc0-ad0462d2d7c9"
  }, {
    "condition": "\"billexp anything else / bill breakdown confirmation / Charge By Amount Display / Charge Type Capture / check older month / is multiple charge / monthly charges 2 / offer add package / offer new plan / Payment Overdue / select_current_bill / select_previous_bill / view bill breakdown online or app / Account update info / Account Vague Disambiguation / BillDisambiguation / Missing credit / Discount expiring\" : $session.params.last_page AND $session.params.isEPP = \"true\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "e4c8fa62-1064-4684-a3c6-4a8391fe2984"
  }, {
    "condition": "$session.params.ss_mandatory_intent = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "ss_mandatory_last_pages",
        "value": null
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_pages : $session.params.last_page AND $session.params.app_first_poc = true",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sure, let me get you to a team member." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Bien sûr, laissez-moi vous mettre en contact avec un membre de l'équipe." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.mandatory_ss = \"true\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sure, let me get you to a team member." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Bien sûr, laissez-moi vous mettre en contact avec un membre de l'équipe." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
        
        } ]
      } ]
    },
    "targetPage": "# Handoff \u003e Start",
    "name": "1cf37991-1053-49f0-9a78-8b1eada84032"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I didn't get that.", "Sorry, I didn't understand that.", "Sorry, I didn't catch that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Do you still want to wait on hold for a team member?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "175b13a5-aff4-4806-9db4-3f236105fc32"
  }, {
    "event": "sys.no-match-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I'm still not sure I got this. Do you still want to speak with a team member?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "bf84f4d1-df71-417f-b921-67b9591e7f1d"
  }, {
    "targetPage": "# Handoff \u003e Start",
    "event": "sys.no-match-3",
    "triggerFulfillment": {
    
    },
    "name": "0446f527-d91c-4086-b993-d34606ef14a0"
  }, {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, I didn't quite get that.", "I didn't hear that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Do you still want to wait on hold for a team member?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "a02b4f15-454c-4fda-a975-a0b5d587d8e8"
  }, {
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I'm still not sure I got this. Do you still want to wait on hold for a team member?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "576c6d5f-5a51-4847-a0cf-46d2b3b7c7fa"
  }, {
    "targetPage": "No match 2",
    "event": "sys.no-input-3",
    "triggerFulfillment": {
    
    },
    "name": "849d2402-9757-46f8-9db6-f238816c42ce"
  } ]
}
