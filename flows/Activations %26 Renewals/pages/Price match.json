{
  "name": "5bcc348b-3894-4324-a6c9-fe73cfdf6f28",
  "displayName": "Price match",
  "form": {
  
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "intent",
      "value": "acctmgmt"
    }, {
      "parameter": "last_page",
      "value": "Price match"
    }, {
      "parameter": "sms_flow_status",
      "value": "offered"
    }, {
      "parameter": "last_page_summary",
      "value": "Understanding the TELUS Price match guarantee"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "Comprendre la garantie du meilleur prix de TELUS"
    }, {
      "parameter": "mandatory_ss",
      "value": "true"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "To get more information about TELUS Price Match Guarantee, you must use the TELUS website for the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "I am sending you a link to the website now." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Pour plus d'information sur la Garantie du meilleur prix de TELUS, vous devez utiliser le site Web de TELUS pour obtenir la résolution la plus rapide. Il est simple à utiliser et vous permet d'éviter d'attendre en ligne." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire à l'assistant virtuel dans votre compte Mon TELUS." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "We have a TELUS Price Match Guarantee, where we will refund the difference in price if you find a lower one. Certain terms and conditions apply. You will need to submit an online price match application." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Nous avons une garantie d'égalisation des prix de TELUS, où nous vous rembourserons la différence de prix si vous en trouvez un moins cher. Certains termes et conditions s'appliquent. Vous devrez soumettre une demande de correspondance de prix en ligne." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "condition": "true",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000ACaJ2T7C2000K"
      }, {
        "parameter": "sms_template_fr",
        "value": "000ACaJ2T7C2000P"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "f7e9dff6-f8bc-4234-b22a-430b966662ea"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "pricematch_retrycnt",
        "value": "$sys.func.ADD($session.params.pricematch_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.pricematch_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.pricematch_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "01539447-3c57-4f60-84ea-d24ca2bd80c2"
  } ]
}
