{
  "name": "694a9950-a709-48b3-a0f7-009cea1d8d44",
  "displayName": "Smart watches",
  "form": {
    "parameters": [ {
      "displayName": "smart_watches",
      "required": true,
      "entityType": "@smart-watches",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Just to confirm, are you looking for an Apple Watch or a Samsung Watch?" ]
            },
            "languageCode": "en"
          }, {
            "text": {
              "text": [ "Juste pour confirmer, vous cherchez de l'information sur une montre Apple ou Samsung?" ]
            },
            "languageCode": "fr-ca"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you looking for information on a Samsung watch or an Apple watch?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Vous cherchez des informations sur une montre Samsung ou une montre Apple?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "3d50955d-2f1d-4a78-a436-f41c9c923269"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you are inquiring about a Samsung watch, say samsung or press 1, for Apple watch, say apple or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous vous renseignez sur une montre Samsung, dites Samsung ou faites le 1. Pour une montre Apple, dites Apple ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "9a1e1750-0fc4-45b6-b2b3-b43387d28bad"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "4948d9d2-69f6-4921-8c2f-332606d20680"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you looking for information on a Samsung watch or an Apple watch?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Vous cherchez des informations sur une montre Samsung ou une montre Apple?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "1fc26594-9fb7-4b11-bb03-1a61592bbb43"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you are inquiring about a Samsung watch, say samsung or press 1, for Apple watch, say apple or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous vous renseignez sur une montre Samsung, dites Samsung ou faites le 1. Pour une montre Apple, dites Apple ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "68b9fe14-98dd-4dec-b389-7661da278498"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "3fc143a9-7e47-49e1-8bb7-f0dccd562d8f"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Smart watches"
    }, {
      "parameter": "last_page_summary",
      "value": "Configuring your smartwatch"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "La configuration de votre montre intelligeante"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.watch_issues",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "watch_issues"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "smart_watches",
        "value": null
      } ]
    },
    "targetFlow": "Troubleshooting",
    "name": "6b9dec22-e33c-4ff9-895c-1fa86ed64d2b"
  }, {
    "condition": "$session.params.smart_watches = \"none\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, we currently only offer Apple or Samsung smartwatches." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, nous n’offrons que des montres intelligentes Apple ou Samsung pour le moment." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "smart_watches",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "90a22e00-aa1a-4b72-9a29-f2652516e1df"
  }, {
    "condition": "$session.params.smart_watches = \"Apple\" OR $session.params.smart_watches = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smart_watches",
        "value": "Apple"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "sms_template",
        "value": "0009SaHN7319007Q"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900AQ"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "mandatory_ss",
        "value": "true"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "To know how to set up you smart watch, you must use the TELUS website for the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I am sending you a link to the website now." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Pour savoir comment configurer votre montre intelligeante, vous devez utiliser le site Web de TELUS pour obtenir la résolution la plus rapide. Il est simple à utiliser et vous permet d'éviter d'attendre en ligne." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire à l'assistant virtuel dans votre compte Mon TELUS." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I can help you to get your information about our watches." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je peux vous aider à obtenir de l'information sur nos montres." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "7b681eb1-6bc2-4228-82b4-ed7fb64b7ec6"
  }, {
    "condition": "$session.params.smart_watches = \"Samsung\" OR $session.params.smart_watches = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smart_watches",
        "value": "Samsung"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "sms_template",
        "value": "0009SaHN73190086"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900D5"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "mandatory_ss",
        "value": "true"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "To know how to set up you smart watch, you must use the TELUS website for the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I am sending you a link to the website now." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Pour savoir comment configurer votre montre intelligeante, vous devez utiliser le site Web de TELUS pour obtenir la résolution la plus rapide. Il est simple à utiliser et vous permet d'éviter d'attendre en ligne." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire à l'assistant virtuel dans votre compte Mon TELUS." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I can help you to get your information about our watches." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je peux vous aider à obtenir de l'information sur nos montres." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "d2a7e715-8040-4612-b0f6-97fdcf1ca4ba"
  }, {
    "condition": "$session.params.watch_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": 0
      } ]
    },
    "name": "d49e6386-0a30-498e-9e11-3959014e6da1"
  }, {
    "condition": "$session.params.watch_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "11634399-ff0a-448e-a38c-b1004161f3b8"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": "$sys.func.ADD($session.params.watch_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.watch_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas bien compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.watch_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne comprends pas." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "78cca63d-e03d-47f1-9eb7-48815ec46270"
  } ]
}
