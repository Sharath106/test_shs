{
  "name": "eea8fd54-ddfc-4a7a-a676-5012fdb06f08",
  "displayName": "Porting process",
  "form": {
    "parameters": [ {
      "displayName": "porting",
      "required": true,
      "entityType": "@porting",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn't catch that. ", "Sorry, I didn’t understand that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like more information on transferring in, transferring out, or, checking the status of a transfer?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous en savoir plus sur les transferts entrant,  les transferts sortant, ou le statut d'un transfert de numéro?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "dfaa7c82-6fc0-4791-a594-366e6de189aa"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For more information on transfers into TELUS, say port in or press 1. Transfers out, say leaving or press 2. To check the status of a transfer, say status or press 3." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'informations sur le transfert entrant, dites entrant ou faites le 1. Pour le transfert sortant, dites sortant ou faites le 2. Pour vérifier l'état d'un transfert de numéro, dites statut ou faites le 3." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "b0e3c991-3554-40fe-85d5-d467bc1d68d9"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "2c2be1d1-be5d-48ad-9367-fc8bc6a45149"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like more information on transferring in, transferring out, or, checking the status of a transfer?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous en savoir plus sur les transferts entrant,  les transferts sortant, ou le statut d'un transfert de numéro?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "6ed2f1c0-9f5d-48d4-a13b-f10bee3006bd"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For more information on transfers in, say port in or press 1. Transfers out, say leaving or press 2. To check the status of a transfer, say status or press 3." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'informations sur le transfert entrant, dites entrant ou faites le 1. Pour le transfert sortant, dites sortant ou faites le 2. Pour vérifier l'état d'un transfert de numéro, dites statut ou faites le 3." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "85d588c5-66f8-4012-86e0-24e563466a50"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "50ae0df7-c42c-47ba-8c0c-d67dee3ebbcf"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Porting process"
    }, {
      "parameter": "last_page_summary",
      "value": "porting to TELUS"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "transfert de numéro de téléphone"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.port_retrycnt = null OR $session.params.port_retrycnt = 0) AND $session.params.porting = null",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "I can definitely help with phone number transfers." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Which would you like more information about. Transfer to TELUS? To another provider? or status of a transfer." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Je peux définitivement vous aider avec le transfert d'un numéro de téléphone." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous pouvez me dire si vous avez besoin de transférer un numéro de téléphone chez TELUS, vers un autre fournisseur, ou même de connaître l'état d'un transfert." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.port_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Which would you like more information about, transfer in? transfer out? status of a transfer." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Aimeriez-vous en savoir plus sur le transfert entrant,  le transfert sortant ou sur le statut d'un transfert de numéro?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.port_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "For more information on transfers in, say port in or press 1. Transfers out, say leaving or press 2. To check the status of a transfer, say status or press 3." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Pour plus d'informations sur le transfert entrant, dites entrant ou faites le 1. Pour le transfert sortant, dites sortant ou faites le 2. Pour vérifier l'état d'un transfert de numéro, dites statut ou faites le 3." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pas de problème." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": null
      }, {
        "parameter": "porting",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "ef04a5d4-ccf6-45d2-8dc4-2763db1b84aa"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": null
      }, {
        "parameter": "porting",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "5dc54454-27f7-4a68-897d-c5fa94a3111d"
  }, {
    "condition": "$session.params.porting = \"in\" OR $session.params.porting = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": null
      }, {
        "parameter": "porting",
        "value": null
      } ]
    },
    "targetPage": "Porting In",
    "name": "a75f00c0-39f8-420d-a97e-ff680eba28bd"
  }, {
    "condition": "$session.params.porting = \"out\" OR $session.params.porting = \"2\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To help with more information on how to port out your number to another carrier, I'll need to get you to a team member for more assistance." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Si vous aimeriez plus d'information pour transférer votre numéro de téléphone vers un autre fournisseur, je peux vous transférer à un membre de l'équipe pour plus d'assistance." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": null
      }, {
        "parameter": "porting",
        "value": null
      } ]
    },
    "targetPage": "Ask for Agent",
    "name": "fd98a20a-ba83-4059-a62f-e9d5baed9f71"
  }, {
    "condition": "$session.params.porting = \"status\" OR $session.params.porting = \"3\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": null
      }, {
        "parameter": "porting",
        "value": null
      } ]
    },
    "targetPage": "Porting status",
    "name": "d61f91dc-30c7-4428-b3c7-b0b731d7cd85"
  }, {
    "condition": "$session.params.port_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": 0
      } ]
    },
    "name": "b3ffaf45-4d95-4456-a3b3-d0abc4b4af7c"
  }, {
    "condition": "$session.params.port_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "866058fb-fc6a-42f9-b405-ef2cb9f17068"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "port_retrycnt",
        "value": "$sys.func.ADD($session.params.port_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.port_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas bien compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.port_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne comprends pas." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "267b4e70-660b-4b55-9129-3a83dd73e214"
  } ]
}
