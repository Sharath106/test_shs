{
  "name": "d36f6418-3e1a-400f-8d76-92ba7fa50a7f",
  "displayName": "Smart watches Text",
  "form": {
  
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Smart watches Text"
    }, {
      "parameter": "sms_flow_status",
      "value": "offered"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.watch_new_line",
    "condition": "$session.params.smart_watches = \"Apple\" AND $session.params.isEPP = \"true\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "ABC" ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319007Q"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900AQ"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Apple"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "bce38fef-9311-46f0-8c0f-2565b69697d1"
  }, {
    "intent": "small_talk.confirmation_yes",
    "condition": "$session.params.smart_watches = \"Samsung\" AND $session.params.isEPP = \"true\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN73190086"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900D5"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Samsung"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "f5043aed-7124-443f-bb01-b7404e91b9bb"
  }, {
    "intent": "head_intent.watch_new_line",
    "condition": "$session.params.smart_watches = \"Apple\" AND $session.params.isEPP = \"false\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "ABC" ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319007Q"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900AQ"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Apple"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "3c3ad5d3-dd45-42f0-96ae-12c2284fec9c"
  }, {
    "intent": "small_talk.confirmation_yes",
    "condition": "$session.params.smart_watches = \"Samsung\" AND $session.params.isEPP = \"false\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN73190086"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900D5"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Samsung"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "d363f449-8a33-473a-9e8a-d8b04c1cff91"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      } ]
    },
    "targetPage": "End Page",
    "name": "a99498d2-54da-4c4b-b1de-7cf9f93c32d9"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      } ]
    },
    "targetPage": "End Page",
    "name": "4a0fb43c-9f5f-49e1-8986-9c7ac090a8bc"
  }, {
    "intent": "supplemental.device_iphone",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, for Apple Watch" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Bien sûr, pour Apple Watch" ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "smart_watches",
        "value": "Apple"
      } ]
    },
    "targetPage": "Smart watches",
    "name": "5e98f1f0-13e2-467b-9f66-b2b25b39e8fc"
  }, {
    "intent": "supplemental.device_android",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, for Samsung watch" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Bien sûr, pour Samsung watch" ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "smart_watches",
        "value": "Samsung"
      } ]
    },
    "targetPage": "Smart watches",
    "name": "25ccc446-5a2a-42a3-884c-f13712bc60d6"
  }, {
    "condition": "$session.params.smart_watches = \"Samsung\" AND $session.params.isEPP = \"true\" AND $session.params.dtmf_smart_watch = \"9\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN73190086"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900D5"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Samsung"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "c57f98a1-7ad9-4442-843a-1c8ff3631fe3"
  }, {
    "condition": "$session.params.smart_watches = \"Apple\" AND $session.params.isEPP = \"true\" AND $session.params.dtmf_smart_watch = \"9\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319007Q"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900AQ"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Apple"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "efdadf9f-e9ef-408a-a5ec-a2d8ab2208ef"
  }, {
    "condition": "$session.params.smart_watches = \"Apple\" AND $session.params.isEPP = \"false\" AND $session.params.dtmf_smart_watch = \"9\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319007Q"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900AQ"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Apple"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "3a35df03-3780-4695-8522-ba3b3a10f553"
  }, {
    "condition": "$session.params.smart_watches = \"Samsung\" AND $session.params.isEPP = \"false\" AND $session.params.dtmf_smart_watch = \"9\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN73190086"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900D5"
      }, {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_flow_option",
        "value": "Samsung"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "003acf4e-69ff-4bbf-b2dc-2d0c86367569"
  }, {
    "condition": "$session.params.dtmf_smart_watch = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Alright, let's get someone to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, demandons à quelqu'un de vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_smart_watch",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "479f5b40-7611-4488-a3fe-b5c9d1839f92"
  }, {
    "condition": "$session.params.watch_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": 0
      } ]
    },
    "name": "fd616317-3e41-4594-bde6-c5f38c03dc8d"
  }, {
    "condition": "$session.params.watch_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "7339ba1b-0dfd-4412-a10c-cb4b52d4254b"
  }, {
    "condition": "$session.params.dtmf_smart_watch = 1 OR $session.params.dtmf_smart_watch = 3",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_smart_watch",
        "value": null
      }, {
        "parameter": "watch_retrycnt",
        "value": "$sys.func.ADD($session.params.watch_retrycnt,1)"
      } ]
    },
    "targetPage": "Current Page",
    "name": "8b6d80d9-acfe-449a-8613-dbe09ffdbcc5"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "watch_retrycnt",
        "value": "$sys.func.ADD($session.params.watch_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.watch_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas bien compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.watch_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne comprends pas." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "b34fc32e-4732-4f7f-ad96-379b75b0a30b"
  } ]
}
