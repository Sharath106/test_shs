{
  "name": "2e9f61e9-a835-4146-86b6-7506d0cdfcc6",
  "displayName": "Porting status",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_portStatus",
      "required": true,
      "entityType": "@dtmf-menu-1-2",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Would you like me to send a text message with the instructions on how to check the status yourself?" ]
            },
            "languageCode": "en"
          }, {
            "text": {
              "text": [ "Aimeriez-vous recevoir un message texte avec les instructions pour vérifier l'état de votre transfert de numéro?" ]
            },
            "languageCode": "fr-ca"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I didn't quite catch that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you want a text message with instruction on how to check the status of your phone number transfer?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je n'ai pas tout à fait saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Voulez-vous que j'envoi un textos avec les instructions pour vérifier où vous en êtes avec votre transfert de numéro?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "7f6b0981-f2c5-4ac8-80fa-b581947f6a8e"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I couldn't hear that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you want a text message with instruction on how to check the status of your phone number transfer?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je n'ai pas bien entendu." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Voulez-vous que j'envoi un textos avec les instructions pour vérifier où vous en êtes avec votre transfert de numéro?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "a42aff0a-3eaf-420d-9daa-2e1cb0ae7d2a"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For instructions on how to do it online, say yes, or press 1. Otherwise, say no, or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour recevoir un message texte pour voir l'état de votre transfert de numéro, dites oui, ou faites le 1. Autrement, dites non, ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "f756f2f5-7dbe-496f-bb4d-421e59943bd8"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For instructions on how to do it online, say yes, or press 1. Otherwise, say no, or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour recevoir un message texte pour voir l'état de votre transfert de numéro, dites oui, ou faites le 1. Autrement, dites non, ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "53eba8cd-3431-499e-a5ab-9a664b1fab99"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "9f473686-eac0-4f1c-b37c-1056811791ab"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "1b98980e-6733-4a3c-b6c0-dc1f2f1c49e6"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "interdigitTimeoutDuration": {
            "seconds": 5
          },
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "You can see the status of your phone number transfer in your My TELUS account online." ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Vous pouvez vérifier l'état du transfert de votre numéro de téléphone dans votre compte en ligne Mon TELUS." ]
      },
      "languageCode": "fr-ca"
    } ],
    "setParameterActions": [ {
      "parameter": "sms_flow_status",
      "value": "offered"
    }, {
      "parameter": "page_summary",
      "value": "the status of your phone number transfer"
    }, {
      "parameter": "page_summaryfr",
      "value": "l'état de votre transfert de numéro"
    }, {
      "parameter": "last_page_summary",
      "value": "the status of your phone number transfer"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "l'état de votre transfert de numéro"
    }, {
      "parameter": "last_page",
      "value": "Porting status"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013M"
      }, {
        "parameter": "sms_template_fr",
        "value": "000BAaJM29TN013Q"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "6c0510ca-2829-471f-b854-ae5fa349d3ed"
  }, {
    "intent": "supplemental.sendtxt",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013M"
      }, {
        "parameter": "sms_template_fr",
        "value": "000BAaJM29TN013Q"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "1eb7e298-b19f-4bac-b70c-cc4cbc0b9a63"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013M"
      }, {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013Q"
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      } ]
    },
    "targetPage": "End Page",
    "name": "acdfcd76-ce94-4692-b6a0-7ae0c9893d74"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013M"
      }, {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013Q"
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      } ]
    },
    "targetPage": "End Page",
    "name": "c698307d-a7ec-427e-aba7-43b4fc93a926"
  }, {
    "condition": "$session.params.dtmf_portStatus = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013M"
      }, {
        "parameter": "sms_template",
        "value": ""
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "525d9009-dd36-4379-bbf9-3da802629578"
  }, {
    "condition": "$session.params.dtmf_portStatus = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BAaJM29TN013M"
      }, {
        "parameter": "sms_template_fr",
        "value": ""
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      } ]
    },
    "targetPage": "End Page",
    "name": "f4b30e1d-1cab-48fc-a2ab-1dc643e2a79a"
  } ]
}
