{
  "name": "d362042d-f953-4b6e-aba3-15016f8ccaa7",
  "displayName": "Extended warranty",
  "form": {
    "parameters": [ {
      "displayName": "warranty",
      "required": true,
      "entityType": "@warranty",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Which extended warranty would you like to know more about? We currently offer: Apple Care+ for Apple devices, and Device Care Complete for Android." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris.", "Je suis désolé, je ne suis pas certain de comprendre.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Vous aimeriez plus d'informations sur laquelle de nos garanties prolongées? Nous avons actuellement: Apple care + pour les appareils Apple, et la Protection Complète d’Appareils pour les appareils Android." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "d17d3ba7-1ba1-4517-8b6b-a951661efc82"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To know more information on extended warranty for Apple devices, say apple or press 1, for Android devices say android, or press 2. For a team member to help you, say team member or press 0." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'information sur la garantie prolongée pour les appareils Apple, dites Apple ou faites le 1. Pour les appareils Android dites Android ou faites le 2. Pour qu'un membre de l'équipe vous aide, dites membre de l'équipe ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "3f0dafce-8ce0-4c3a-b8c8-b5e1e52ad5b3"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "bcbc59f3-6ffe-4ab0-8eed-2ac53de92f77"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Which extended warranty would you like to know more about? We currently offer: Apple Care+ for Apple devices, and Device Care Complete for Android." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris.", "Je suis désolé, je ne suis pas certain de comprendre.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Vous aimeriez plus d'informations sur laquelle de nos garanties prolongées? Nous avons actuellement: Apple care + pour les appareils Apple, et la Protection Complète d’Appareils pour les appareils Android." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "eccad96e-c0d5-4d68-a545-24adc4a5fb8d"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To know more information on extended warranty for Apple devices, say apple or press 1, for Android devices say android, or press 2. For a team member to help you, say team member or press 0." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'information sur la garantie prolongée pour les appareils Apple, dites Apple ou faites le 1. Pour les appareils Android dites Android ou faites le 2. Pour qu'un membre de l'équipe vous aide, dites membre de l'équipe ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "9ecc8bcc-b7a5-4273-824a-8e2b89ed41fc"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "2188fe6f-0615-43ce-8964-6f6c289285c6"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Extended warranty"
    }, {
      "parameter": "last_page_summary",
      "value": "extended warranty"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "garantie prolongée"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.extendedwarranty_retrycnt = null OR $session.params.extendedwarranty_retrycnt = 0) AND $session.params.warranty = null",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Extended warranties for Apple and Android devices can be purchased in store within 60 days of purchasing the phone." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Which extended warranty would you like to know more about?" ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Les garanties prolongées pour les appareils Apple et Android peuvent être achetées en magasin dans les 60 jours suivant l'achat du téléphone." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous aimeriez plus d'information sur laquelle de nos garanties prolongées?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.extendedwarranty_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Which extended warranty would you like to know more about? We currently offer: Apple Care+ for Apple devices, and Device Care Complete for Android." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous aimeriez plus d'informations sur laquelle de nos garanties prolongées? Nous avons actuellement: Apple care + pour les appareils Apple, et la Protection Complète d’Appareils pour les appareils Android." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.extendedwarranty_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "To know more information on extended warranty for Apple devices, say apple or press 1, for Android devices say android, or press 2. For a team member to help you, say team member or press 0." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Pour plus d'information sur la garantie prolongée pour les appareils Apple, dites Apple ou faites le 1. Pour les appareils Android dites Android ou faites le 2. Pour qu'un membre de l'équipe vous aide, dites membre de l'équipe ou faites le 0." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "extendedwarranty_retrycnt",
        "value": null
      }, {
        "parameter": "warranty",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "141f34ba-d442-46af-8eeb-60e84cae5a39"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "extendedwarranty_retrycnt",
        "value": null
      }, {
        "parameter": "warranty",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "4099de8a-2f3f-490b-beb8-7f2359171079"
  }, {
    "condition": "$session.params.warranty = \"Apple Care\" OR $session.params.warranty = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "warranty",
        "value": null
      }, {
        "parameter": "extendedwarranty_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "Apple Care plus",
    "name": "896a9fb7-58fb-4b66-942b-758de6a0a4c6"
  }, {
    "condition": "$session.params.warranty = \"device complete\" OR $session.params.warranty = \"2\" OR $session.params.warranty = \"TELUS Device Care\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "warranty",
        "value": null
      }, {
        "parameter": "extendedwarranty_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "Device Care Complete",
    "name": "ea46a0b7-a269-41ce-85cd-3332b487b3da"
  }, {
    "condition": "$session.params.warranty = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Alright, let's get someone to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, demandons à quelqu'un de vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "warranty",
        "value": null
      }, {
        "parameter": "extendedwarranty_retrycnt",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "4241838c-e7e2-404c-835c-da16cbe8b1f5"
  }, {
    "condition": "$session.params.extendedwarranty_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "extendedwarranty_retrycnt",
        "value": 0
      } ]
    },
    "name": "8b7ba075-37b3-4eae-936d-96233478b4ca"
  }, {
    "condition": "$session.params.extendedwarranty_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "extendedwarranty_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "e42a0ed1-fe20-4b4d-90d4-dffb530a8154"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "extendedwarranty_retrycnt",
        "value": "$sys.func.ADD($session.params.extendedwarranty_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.extendedwarranty_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.extendedwarranty_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "e30383d1-8806-4452-a365-93a1551b00d8"
  } ]
}
