{
  "name": "a8fde002-3405-4994-a1fb-11e069a63fb3",
  "displayName": "Renewal",
  "form": {
  
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Renewal"
    }, {
      "parameter": "sms_flow_status",
      "value": "offered"
    }, {
      "parameter": "last_page_summary",
      "value": "Upgrading your device"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "Renouveller votre appareil"
    }, {
      "parameter": "mandatory_ss",
      "value": "true"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "To renew your phone, you must use your My TELUS app, It's easy to use and allows you to avoid waiting on the line." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "I am sending you a link to My TELUS now." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Pour renouveller votre téléphone, vous devez utiliser votre compte Mon TELUS. Il est facile à utiliser et vous permet d'éviter d'attendre en ligne." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Je vous envoie maintenant un lien vers Mon TELUS." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire avec l'assistant virtuel de votre compte Mon TELUS." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Upgrading your device is easier than ever. Please note that you may need to pay off any outstanding device balance. Skip the lines, access exclusive online deals, and avoid the connection fee by completing your upgrade at My TELUS." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Le renouvellement de votre appareil est plus facile que jamais. Veuillez noter que vous devrez peut-être rembourser tout solde impayé de votre appareil. Évitez la file d'attente, accédez à des offres en ligne exclusives et évitez les frais de connexion en effectuant votre renouvellement dans votre compte Mon TELUS." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "supplemental.credit_check",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "When it comes to a phone upgrade for your existing account, you don't have to worry about a credit check." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "This is only required for a new customer activating a new account with TELUS." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pour le renouvellement d'un appareil sur un abonné existant, vous n'avez pas à vous soucier d'une vérification de crédit." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "C'est seulement nécessaire pour l'activation d'un nouveau compte TELUS." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "e21d42e6-9b9a-4c56-8b6f-ff2e8c71d835"
  }, {
    "intent": "supplemental.shipping_delivery",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Shipping is included with your order and it usually takes from 3 to 5 business days to be delivered." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "L'expédition est incluse avec votre commande et il faut généralement de 3 à 5 jours ouvrables pour être livré." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "f6fe9ff3-92e9-4c21-a86e-bcb1ff89b61a"
  }, {
    "condition": "$session.params.bf_promo_code = \"true\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "fromPage",
        "value": "renewal"
      } ]
    },
    "targetPage": "Black Friday promo code offer",
    "name": "8bce72b9-f324-43b2-a6f7-02382641dccf"
  }, {
    "condition": "true",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319015W"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900CD"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "cae0de11-6b5b-41bc-a041-608719a9163e"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "renewal_retrycnt",
        "value": "$sys.func.ADD($session.params.renewal_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.renewal_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.renewal_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "5863052c-ee1d-41b1-bc55-fd07ee5439ce"
  } ],
  "transitionRouteGroups": [ "supp_routes" ]
}
