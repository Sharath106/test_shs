{
  "name": "4fb894c1-61c2-4c03-9897-292299876f77",
  "displayName": "MMS Issues",
  "form": {
    "parameters": [ {
      "displayName": "mms_issues_dtmf",
      "required": true,
      "entityType": "@dtmf-menu",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous que j'envoie un lien à votre téléphone avec plus d'informations?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ " Would you like me to send a link with more information on this to your phone now?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "e7747e99-096a-4820-8445-4cda4cb54455"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Dites envoyez-moi le message texte, ou faites le 9. Membre de l'équipe, ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To receive a text message say or press 9, for a team member to help you say or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "f3ea591b-58d6-4f4d-89ee-b5cb0324c70f"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "7e41cd78-04cc-4da1-860b-fa51807d7537"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous que j'envoie un lien à votre téléphone avec plus d'informations?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ " Would you like me to send a link with more information on this to your phone now?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "53cb0bb4-9b32-47ea-9331-b0b97994ace2"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Dites envoyez-moi le message texte, ou faites le 9. Membre de l'équipe, ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To receive a text message say or press 9, for a team member to help you say or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "1cf48ac9-fa9e-4d3e-97bd-3b0f186dd73d"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "90dd1d4a-4445-4563-b389-419b8e798b51"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "MMS Issues"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "$session.params.mmsissue_retrycnt = null OR $session.params.mmsissue_retrycnt = 0",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Désolé d'entendre ce qui se passe. Il existe des étapes simples pour résoudre la plupart des problèmes de messagerie photo." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Aimeriez-vous que j'envoie un lien à votre téléphone avec plus d'informations?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Sorry to hear that's happening. There are easy steps to fix most picture messaging issues." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Would you like me to send a link with more information on this to your phone now?" ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.mmsissue_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Aimeriez-vous que j'envoie un lien à votre téléphone avec plus d'informations?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Would you like me to send a link with more information on this to your phone now?" ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.mmsissue_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Dites envoyez-moi le message texte, ou faites le 9. Membre de l'équipe, ou faites le 0." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "To receive a text message say or press 9, for a team member to help you say or press 0." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN731900PM"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN7319014G"
      }, {
        "parameter": "mmsissue_retrycnt",
        "value": null
      }, {
        "parameter": "mms_issues_dtmf",
        "value": null
      } ]
    },
    "name": "5e7da64f-ca7f-4ec7-84dc-9842dbd812b7"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "mmsissue_retrycnt",
        "value": null
      }, {
        "parameter": "mms_issues_dtmf",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "133ac511-b97e-4c41-8dc9-60d073149b54"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "mmsissue_retrycnt",
        "value": null
      }, {
        "parameter": "mms_issues_dtmf",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "ead42ef5-b993-430d-96f3-74812c184e72"
  }, {
    "condition": "$session.params.mms_issues_dtmf = \"9\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN731900PM"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN7319014G"
      }, {
        "parameter": "mmsissue_retrycnt",
        "value": null
      }, {
        "parameter": "mms_issues_dtmf",
        "value": null
      } ]
    },
    "name": "cbbbe722-c72d-4755-a624-798da160a86f"
  }, {
    "condition": "$session.params.mms_issues_dtmf = \"0\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "mmsissue_retrycnt",
        "value": null
      }, {
        "parameter": "mms_issues_dtmf",
        "value": null
      } ]
    },
    "name": "61957c03-f349-4064-8026-d8faaba059a8"
  }, {
    "condition": "$session.params.mmsissue_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "mmsissue_retrycnt",
        "value": 0
      } ]
    },
    "name": "daad2dd6-c128-4b2a-8b67-0e2fd8548f57"
  }, {
    "condition": "$session.params.mmsissue_retrycnt \u003e 2",
    "triggerFulfillment": {
    
    },
    "targetPage": "No Match 2",
    "name": "42fe52f2-16e0-47eb-85e8-0ac8f8df2bb7"
  }, {
    "condition": "$session.params.mms_issues_dtmf = 1 OR $session.params.mms_issues_dtmf = 3",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "mms_issues_dtmf",
        "value": null
      }, {
        "parameter": "mmsissue_retrycnt",
        "value": "$sys.func.ADD($session.params.mmsissue_retrycnt,1)"
      } ]
    },
    "targetPage": "Current Page",
    "name": "949d5732-b30f-418f-902c-9f761db1a617"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "mmsissue_retrycnt",
        "value": "$sys.func.ADD($session.params.mmsissue_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.mmsissue_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.mmsissue_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "ce965985-d28f-4c5a-b9b3-877899efc920"
  } ],
  "transitionRouteGroups": [ "troubleshooting_answers" ]
}
