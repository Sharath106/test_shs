{
  "name": "37678efe-3907-45f1-ab54-15cb385f2b69",
  "displayName": "Calling issues",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_calling",
      "required": true,
      "entityType": "@dtmf-menu",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Vous rencontrez des problèmes avec un téléphone mobile?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you having issues with a cell phone?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "8f9caa8b-c657-4efe-804f-4f40c3d6e262"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour plus d'informations, dites problèmes d'appel avec un téléphone mobile, ou faites le 1. Téléphonie résidentielle, ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "For calling issues with a cell phone, say or press 1, for wireless home phone or smart hub, 2." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "d7a4095e-8dba-46f3-8c86-f4090af7bd21"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "552c737e-fa7d-4cdc-8595-fd1a7f40cf94"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Vous rencontrez des problèmes avec un téléphone mobile?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you having issues with a cell phone?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "2b31c7e9-ba42-4202-b9e5-91d0b2eac13d"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour plus d'informations, dites problèmes d'appel avec un téléphone mobile, ou faites le 1. Téléphonie résidentielle, ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "For calling issues with a cell phone, say or press 1, for wireless home phone or smart hub, 2." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "9d19d0de-fb82-4262-a6e3-9be76b63aee6"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "674e3482-f2df-485e-afbc-0b43f2fe76b4"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Calling issues"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.calling_retrycnt = null OR $session.params.calling_retrycnt = 0) AND $session.params.calling_issues_device = null AND $session.params.calling_issues != search",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Afin de confirmer, est-ce que le problème est avec un téléphone cellulaire?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Just to be sure, are your issues with a cell phone?" ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.calling_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Vous rencontrez des problèmes avec un téléphone mobile?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Are you having issues with a cell phone?" ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.calling_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Pour plus d'informations, dites problèmes d'appel avec un téléphone mobile, ou faites le 1. Téléphonie résidentielle, ou faites le 2." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "For calling issues with a cell phone, say or press 1, for wireless home phone or smart hub, 2." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "La plupart des problèmes peuvent être résolus en redémarrant votre téléphonie résidentielle mobile ou terminal intelligent.\n\nPour le téléphonie résidentielle mobile, assurez-vous que l'antenne est connectée et que les lumières sont allumées.\nEssayez le câble téléphonique dans le port alternatif du concentrateur ou essayez d'inverser les extrémités du câble.\n\nPour le terminal intelligent, essayez de réinitialiser votre terminal intelligent à l'aide du bouton généralement situé à l'arrière ou sur le côté de l'appareil.\nAssurez-vous que le câble téléphonique est connecté au bon port téléphonique." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Si vous avez récemment transféré votre numéro à TELUS, cela peut prendre jusqu'à 48 heures." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Most issues can be fixed by rebooting your Wireless hone phone or Smart Hub.\n\nFor the wireless home phone, make sure that the antenna is connected, and the lights are on.\nTry the phone cable in the alternate port on the hub, or try reversing the ends of the cable.\n\nFor the smart hub, try to reset your hub using the button usually on the back or the side of the device.\nEnsure the phone cable is connected in the right phone port." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Or if you've recently transferred your number to TELUS it could take up to 48 hours for it to complete." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_calling",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "74500c23-424e-47fd-9643-6c0f96ffd56e"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "Calling issues Mobile service check",
    "name": "5233ab9d-b25c-41e7-b6b5-ad985857d2fb"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_calling",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "08c92d51-22ea-4395-ac73-d0b3cf193ad2"
  }, {
    "intent": "head_intent.dropped_calls",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_calling",
        "value": null
      } ]
    },
    "targetPage": "Dropped calls",
    "name": "fab1932d-b2a7-4545-916d-0c7cdfdbb83d"
  }, {
    "intent": "head_intent.audio_issues",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_calling",
        "value": null
      } ]
    },
    "targetPage": "Audio issues",
    "name": "25fd3a35-dd36-4633-853f-ae7fd9409c74"
  }, {
    "condition": "$session.params.calling_issues = \"search\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_calling",
        "value": null
      } ]
    },
    "targetPage": "Manual network search",
    "name": "0b786c76-f6d8-4e9e-95d0-ddc79978dbc2"
  }, {
    "condition": "$session.params.dtmf_calling = \"1\" OR $session.params.calling_issues_device = \"mobile\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_calling",
        "value": null
      } ]
    },
    "targetPage": "Calling issues Mobile service check",
    "name": "18bb3712-199e-4d93-9460-a3ee36fce368"
  }, {
    "condition": "$session.params.dtmf_calling = \"2\" OR $session.params.calling_issues_device = \"smarthub\" OR $session.params.calling_issues_device = \"whp\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "La plupart des problèmes peuvent être résolus en redémarrant votre téléphonie résidentielle mobile ou terminal intelligent.\r\n\r\nPour le téléphonie résidentielle mobile, assurez-vous que l'antenne est connectée et que les lumières sont allumées.\r\nEssayez le câble téléphonique dans le port alternatif du concentrateur ou essayez d'inverser les extrémités du câble.\r\n\r\nPour le terminal intelligent, essayez de réinitialiser votre terminal intelligent à l'aide du bouton généralement situé à l'arrière ou sur le côté de l'appareil.\r\nAssurez-vous que le câble téléphonique est connecté au bon port téléphonique." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Most issues can be fixed by rebooting your Wireless home phone or Smart Hub.\n\nFor the wireless home phone, make sure that the antenna is connected, and the lights are on.\nTry the phone cable in the alternate port on the hub, or try reversing the ends of the cable.\n\nFor the smart hub, try to reset your hub using the button usually on the back or the side of the device.\nEnsure the phone cable is connected in the right phone port." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_calling",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "9434eb62-660f-4201-aa13-85b03257f759"
  }, {
    "condition": "$session.params.calling_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": 0
      } ]
    },
    "name": "a6d32ea8-69ee-4a36-91ea-8cea90b6c7b8"
  }, {
    "condition": "$session.params.calling_retrycnt \u003e 2",
    "triggerFulfillment": {
    
    },
    "targetPage": "No Match 2",
    "name": "eae9a900-efdb-4e52-9bc3-98f99f7cbde6"
  }, {
    "condition": "$session.params.dtmf_calling = 1 OR $session.params.dtmf_calling = 3",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_calling",
        "value": null
      }, {
        "parameter": "calling_retrycnt",
        "value": "$sys.func.ADD($session.params.calling_retrycnt,1)"
      } ]
    },
    "targetPage": "Current Page",
    "name": "b70cea6d-817c-499c-94b4-151518e6e112"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "calling_retrycnt",
        "value": "$sys.func.ADD($session.params.calling_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.calling_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.calling_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "ab979bfa-3d8b-45fe-b93c-a045fe98b9f1"
  } ]
}
