{
  "name": "d9c0e45f-e812-4118-868f-c16f6de57137",
  "displayName": "Account locked",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_account_locked",
      "required": true,
      "entityType": "@dtmf-menu-1-0",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Votre compte est-il actuellement verrouillé?" ]
            },
            "languageCode": "fr-ca"
          }, {
            "text": {
              "text": [ "Is your account currently locked?" ]
            },
            "languageCode": "en"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Votre compte est-il actuellement verrouillé?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Is your account currently locked?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "e7b5646d-a75e-4356-a33f-e21ad46bc7d5"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour parler avec un membre de l'équipe, dites membre de l'équipe ou faites le 0. Réinitialiser mon mot de passe, ou faites le 1." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "If you want to connect with a team member, say team member or press 0, reset my password or press 1." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "8355bf40-1996-4b10-84bc-dec9bbb9ecdc"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "418e9fc6-1e81-43b4-90ab-14ea905bca8e"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Votre compte est-il actuellement verrouillé?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Is your account currently locked?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "385ef5eb-a82b-423f-9196-c01e65a35601"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour parler avec un membre de l'équipe, dites membre de l'équipe ou faites le 0. Réinitialiser mon mot de passe, ou faites le 1." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "If you want to connect with a team member, say team member or press 0, reset my password or press 1." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "1281e1d8-e32c-47e2-bd41-5120064b075f"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "43e03303-6ba1-4236-93a6-79ea55ef8677"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Account locked"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "$session.params.repeat_counter = null OR $session.params.repeat_counter = 3",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Si vous avez déjà fait cinq tentatives infructueuses pour accéder à votre compte, votre compte sera verrouillé pour des raisons de sécurité." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Si ce n’est pas le cas, je peux vous aider à réinitialiser votre mot de passe." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If you have already made five unsuccessful login attempts, your account will be locked for security purposes." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If it's not, I can help you reset your password." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.repeat_counter = 1 OR $session.params.repeat_counter = 4",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Pour des raisons de sécurité, votre compte sera verrouillé après cinq tentatives de connexion infructueuses." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Si ce n’est pas le cas, je peux vous aider à réinitialiser votre mot de passe." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "For security reasons, your account will be locked after five unsuccessful login attempts." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If it's not, I can assist you with resetting your password." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.repeat_counter = 2 OR $session.params.repeat_counter = 5",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Après cinq tentatives de connexion infructueuses, votre compte sera verrouillé par mesure de sécurité." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Si ce n’est pas le cas, je peux vous guider dans le processus de réinitialisation du mot de passe." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "After five failed login attempts, your account will be locked as a security measure." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If it's not, I can guide you through the password reset process." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountlocked_retrycnt",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "4f620244-8ccd-419c-96a4-f45fd09874ee"
  }, {
    "intent": "head_intent.password",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountlocked_retrycnt",
        "value": null
      }, {
        "parameter": "password_reset",
        "value": "mytelus"
      } ]
    },
    "targetPage": "Reset password",
    "name": "82bffd61-1ec4-43cc-835b-1baee6502213"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
    
    },
    "targetPage": "Ask for Agent",
    "name": "df4d971b-f27a-4e16-87b5-84282316d74c"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
    
    },
    "targetPage": "Reset password",
    "name": "648686fc-db16-4f46-9cfb-a6ed38090772"
  }, {
    "condition": "$session.params.dtmf_account_locked = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountlocked_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "Reset password",
    "name": "fd8cb8c3-b079-41de-a503-c0363e21519d"
  }, {
    "condition": "$session.params.dtmf_account_locked = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord, laissez-moi chercher quelqu'un pour vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Okay, let me get someone to help you." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "accountlocked_retrycnt",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "9959d4ed-28a7-4b8c-8700-e35cba4922c0"
  }, {
    "condition": "$session.params.dtmf_account_locked = 3 OR $session.params.dtmf_account_locked = 9",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_account_locked",
        "value": null
      }, {
        "parameter": "accountlocked_retrycnt",
        "value": "$sys.func.ADD($session.params.accountlocked_retrycnt,1)"
      } ]
    },
    "targetPage": "Current Page",
    "name": "7abf0dfa-2b09-4d76-98a7-3a0bdcb5e074"
  } ],
  "transitionRouteGroups": [ "small_talk.no_thanks" ]
}
