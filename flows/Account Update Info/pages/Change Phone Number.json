{
  "name": "577ad541-cdb4-44d8-bae8-c6730eef64a2",
  "displayName": "Change Phone Number",
  "form": {
    "parameters": [ {
      "displayName": "new_phone_number",
      "required": true,
      "entityType": "@sys.phone-number",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Pouvez-vous me donner le numéro de téléphone de la ligne que vous souhaitez changer?" ]
            },
            "languageCode": "fr-ca"
          }, {
            "text": {
              "text": [ "Please tell me the phone number of the line you wish to change." ]
            },
            "languageCode": "en"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je n'avais pas compris cela. Veuillez choisir l'un des numéros qui ont été présentés pour poursuivre votre changement de numéro de téléphone." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn't catch that. Please choose one of the new phone numbers that have been presented to continue with your phone number change. " ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "a72a29a1-fa21-4e21-9e65-2e31193715e5"
        }, {
          "targetFlow": "Default Start Flow",
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Je ne comprends toujours pas. On recommence. Pouvez-vous reformuler pour moi, s'il vous plaît?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "I still don't quite understand. Let's start over, can you rephrase that again for me?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "a7d95b70-9c6d-417c-bfc3-bb7d31670ba6"
        }, {
          "targetFlow": "Universal handoff",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé. Je ne comprends toujours pas. Laissez-moi vous mettre en communication avec quelqu'un d'autre pour plus d'assistance!" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I'm still not understanding, let me transfer you to somebody else for more assistance. " ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "0c7fd303-e6de-478c-ba1b-8e75ec7a2408"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    } ]
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "En tant que client de TELUS, vous pouvez changer votre numéro de téléphone à chaque cycle de facturation sans frais supplémentaires. \nCependant, si vous souhaitez discuter avec un agent en direct pour changer votre numéro de téléphone, des frais de 15 $ vous seront facturés. \n" ]
      },
      "languageCode": "fr-ca"
    }, {
      "text": {
        "text": [ "As a TELUS customer, you can change your phone number every billing cycle with no extra charge to you. However, if you wish to chat with a live agent to change your phone number you will be charged a $15 fee. " ]
      },
      "languageCode": "en"
    } ]
  },
  "transitionRoutes": [ {
    "condition": "$session.params.new_phone_number = \"5555555555\" AND $session.params.new_phone_number != null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Thank you for selecting $session.params.new_phone_number" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "If you need to change the rate for your current plan then you will have to wait 1 bill cycle before you become eligible after changing your phone number on your account." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "Phone Number Change Eligibility ",
    "name": "3f45cc6a-ad66-4934-acd6-8231b623e13c"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I can still help you change your phone number but if you wish to have a specific phone number or view more phone number options then you will be charged a $35 fee to your account. " ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "e49f91b9-6c64-40a5-9df8-c87d96376c48"
  }, {
    "targetFlow": "Default Start Flow",
    "event": "sys.no-match-2",
    "triggerFulfillment": {
    
    },
    "name": "b72672f8-3e9f-40ed-9934-da3c6f9a9c9e"
  } ]
}
