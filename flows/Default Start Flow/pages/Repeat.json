{
  "name": "f0bda00d-9308-4ff8-8941-97bdab0bed03",
  "displayName": "Repeat",
  "form": {
  
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "is_repeat_prompted",
      "value": "true"
    }, {
      "parameter": "page_list",
      "value": "$sys.func.APPEND($session.params.page_list, Repeat)"
    } ]
  },
  "transitionRoutes": [ {
    "condition": "$session.params.page_list : $session.params.last_page",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "repeat_counter",
        "value": "$sys.func.MINUS($sys.func.COUNT($session.params.page_list), $sys.func.COUNT($sys.func.REMOVE($session.params.page_list, Repeat)))"
      } ]
    },
    "name": "49663955-ddf2-4e21-b55a-7b8e401a6c33"
  }, {
    "condition": "$session.params.repeat_counter = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "repeat_counter",
        "value": 0
      } ]
    },
    "name": "b12f01f4-aff3-4385-80c1-c2ce64abae69"
  }, {
    "condition": "$session.params.repeat_counter \u003e= 0 AND $session.params.from_flow = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "repeat_counter",
        "value": "$sys.func.ADD($session.params.repeat_counter,1)"
      } ]
    },
    "name": "f0bb17a7-ac3f-4308-899e-04db6b854c1a"
  }, {
    "condition": "$session.params.repeat_counter \u003e 5",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "For further assistance, let me get you to a team member." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Je peux vous mettre en contact avec un membre de l'équipe pour plus d'assistance." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "d177e9b3-d708-48af-8f9c-ce036f0c7be1"
  }, {
    "condition": "$session.params.from_flow = \"AccountManagement\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Account Management",
    "name": "b5888149-095e-46f7-80b7-046aa0969f32"
  }, {
    "condition": "$session.params.from_flow = \"ActivationsandRenewals\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Activations \u0026 Renewals",
    "name": "50d95c73-7015-4381-a645-f5865e56823f"
  }, {
    "condition": "$session.params.from_flow = \"Billing\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Billing",
    "name": "f75a5e10-58be-4eb2-8758-139a5cc93471"
  }, {
    "condition": "$session.params.from_flow = \"Churn\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Churn",
    "name": "1a9a6311-2992-4e0a-827c-60abb03019ee"
  }, {
    "condition": "$session.params.from_flow = \"Equipment\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Equipment",
    "name": "d9c1cd3b-dd45-4930-9130-3ad1a7ddb92e"
  }, {
    "condition": "$session.params.from_flow = \"OnlineProfile\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Online Profile",
    "name": "bd8b2213-88c3-4512-b794-94787f84badb"
  }, {
    "condition": "$session.params.from_flow = \"Payment\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Payment",
    "name": "0f585ab1-d5a0-437f-ad72-cbbc4f9ab054"
  }, {
    "condition": "$session.params.from_flow = \"RatesPlansandFeatures\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Rate Plans \u0026 Features",
    "name": "6099b599-cc50-4379-b4a2-dfc1e05a4e11"
  }, {
    "condition": "$session.params.from_flow = \"Troubleshooting\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Troubleshooting",
    "name": "4ee0d8d7-87c7-4b09-a144-4da0d7a8bbd0"
  }, {
    "condition": "$session.params.from_flow = \"Cross Domain Transfer\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Cross Domain Transfer",
    "name": "f6c981b1-8bfa-449d-a72b-fc6de1650481"
  }, {
    "condition": "$session.params.last_page = \"Account Vague Disambiguation\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Account Vague Disambiguation",
    "name": "b615448c-7699-464d-b843-d163490b6010"
  }, {
    "condition": "$session.params.last_page = \"Password Vague\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Password Vague",
    "name": "e649d4fe-8099-4d55-9626-9e1e252e13ce"
  }, {
    "condition": "$session.params.last_page = \"Plans Vague Disambiguation\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Plans Vague Disambiguation",
    "name": "3838d882-5a79-4338-8c36-56dcff0f40e8"
  }, {
    "condition": "$session.params.last_page = \"Troubleshoot Vague\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Troubleshoot Vague",
    "name": "4ee5f5a0-7b18-4422-9e4d-a6b4934d12b6"
  }, {
    "condition": "$session.params.last_page = \"Payment Disambiguation\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Payment Disambiguation",
    "name": "2820a8e6-f447-4c69-8202-dca4e5979979"
  }, {
    "condition": "$session.params.last_page = \"nbs late payment forgiveness\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "NBS Late Payment Forgiveness",
    "name": "c90e71cc-c862-4e99-bc96-1842d4c1cd5b"
  }, {
    "condition": "$session.params.from_flow = null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I'm not quite sure what information to repeat. To get started let me know how I can help you today." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Je ne suis pas certain quelle information je dois répéter." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Pour commencer, comment puis-je vous aider aujourd'hui?" ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "is_repeat_prompted",
        "value": null
      } ]
    },
    "targetPage": "Start Page",
    "name": "069de8d5-7290-4d4a-be22-9e2d0aea201f"
  }, {
    "condition": "true",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Hmm I didn't quite get that. Could you tell me once more what I can help you with?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Hmm, je n'ai pas bien compris." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Pouvez-vous me dire une fois de plus comment je peux vous aider?" ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "Start Page",
    "name": "891ae2ca-fed5-4114-8da9-78f03badcd8f"
  } ]
}
