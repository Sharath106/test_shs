{
  "name": "51c225a3-9209-4b6b-ba67-0a61c692e6db",
  "displayName": "NBS Late Payment Forgiveness",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_lpc_forgiveness",
      "required": true,
      "entityType": "@dtmf-menu-9-1",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Would you like me to send you a text about how to apply for it?" ]
            },
            "languageCode": "en"
          }, {
            "text": {
              "text": [ "Voulez-vous que je vous envoie un message pour vous expliquer comment en faire la demande?" ]
            },
            "languageCode": "fr-ca"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "Sorry, I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like me to send you a text about how to request a one time waiver of your late payment charge?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Souhaitez-vous que je vous envoie un texte vous expliquant comment demander un remboursement unique de vos frais de retard de paiement?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "884f2a1d-654d-402a-b2f4-017ae0504152"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text message, say yes, or press 9. To ask other question, say no, or press 1." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour recevoir un message texte, dites oui ou appuyez sur 9. Pour poser une autre question, dites non ou appuyez sur 1." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "5d028d9a-06b5-4889-987c-0d8521d5a604"
        }, {
          "targetPage": "No match 3",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "016c5634-d56e-4954-9261-713342bfdbc7"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "Sorry, I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like me to send you a text about how to request a one time waiver of your late payment charge?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Souhaitez-vous que je vous envoie un texte vous expliquant comment demander un remboursement unique de vos frais de retard de paiement?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "519685d4-5580-4d1e-941e-ce83efc42845"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text message, say yes, or press 9. To ask other question, say no, or press 1." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour recevoir un message texte, dites oui ou appuyez sur 9. Pour poser une autre question, dites non ou appuyez sur 1." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "11d19502-6904-4476-b774-9a336205d7ae"
        }, {
          "targetPage": "No match 3",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "b0e48b9f-e1b8-43b5-b63e-887e9007e5e0"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "interdigitTimeoutDuration": {
            "seconds": 5
          },
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "Hi, Before we begin, I've reviewed your account and see that you are eligible to request a one time waiver of your late payment charge." ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Bonjour, avant de commencer, j'ai examiné votre compte et je vois que vous pouvez demander un remboursement unique de vos frais de retard de paiement." ]
      },
      "languageCode": "fr-ca"
    } ],
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "nbs late payment forgiveness"
    }, {
      "parameter": "sms_flow_status",
      "value": "offered"
    }, {
      "parameter": "page_summary",
      "value": "late payment forgiveness"
    }, {
      "parameter": "page_summaryfr",
      "value": "Annulation des retards de paiement"
    }, {
      "parameter": "last_page_summary",
      "value": "information about late payment forgiveness eligibility"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "informations sur l'admissibilité à un remboursement en cas de retard de paiement"
    }, {
      "parameter": "nbs_lpc_waiver",
      "value": true
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BJaK1CDFX05VB"
      }, {
        "parameter": "sms_template_fr",
        "value": "000BJaK1CDFX05VH"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "dtmf_lpc_forgiveness",
        "value": null
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "05521748-1d52-470e-a1db-2e2a3cae3d6e"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pas de problèmes." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_flow_status",
        "value": "declined"
      }, {
        "parameter": "dtmf_lpc_forgiveness",
        "value": null
      } ]
    },
    "targetPage": "Greeting",
    "name": "f623ab44-2029-4bdd-b41b-9e528bb6bd01"
  }, {
    "intent": "supplemental.sendtxt",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BJaK1CDFX05VB"
      }, {
        "parameter": "sms_template_fr",
        "value": "000BJaK1CDFX05VH"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "dtmf_lpc_forgiveness",
        "value": null
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "5cf275d8-5793-4816-b390-cf7d4e802622"
  }, {
    "intent": "small_talk.another_question",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pas de problèmes." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_flow_status",
        "value": "declined"
      }, {
        "parameter": "dtmf_lpc_forgiveness",
        "value": null
      } ]
    },
    "targetPage": "Greeting",
    "name": "a93c6acc-7e6e-430b-a1bb-8567be0bd6dd"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To avoid a transfer and ensure I get you to the right team member, please tell me the specific reason for your inquiry today.", "To prevent unwanted transfers to the wrong department, please let me know the exact reason for your call today.", "To minimize unwanted transfers and get you to the right team member, please share the specific reason for your inquiry." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "You can say something like: how to pay my bill, or, I am having issues with my WiFi." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pour éviter un transfert et vous assurer d'être mis en contact avec le bon membre de l'équipe, veuillez m'indiquer la raison précise de votre demande aujourd'hui.", "Pour éviter les transferts non souhaités vers le mauvais service, veuillez m'indiquer la raison exacte de votre appel aujourd'hui.", "Pour minimiser les mauvais transferts et vous mettre en contact avec le bon membre de l'équipe, veuillez me faire part de la raison précise de votre demande." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Vous pouvez dire quelque chose comme : comment payer ma facture, ou, j'ai des problèmes avec mon Wi-Fi." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "agent_try",
        "value": "1"
      }, {
        "parameter": "humanagent_attempt",
        "value": 0
      } ]
    },
    "targetPage": "Start Page",
    "name": "1e7c9927-5b3d-40d5-9c06-8246c558ec40"
  }, {
    "condition": "$session.params.dtmf_lpc_forgiveness = \"9\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "000BJaK1CDFX05VB"
      }, {
        "parameter": "sms_template_fr",
        "value": "000BJaK1CDFX05VH"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "dtmf_lpc_forgiveness",
        "value": null
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "ecb76fba-4984-4078-8ec6-5b67df0c815a"
  }, {
    "condition": "$session.params.dtmf_lpc_forgiveness = \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pas de problèmes." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_flow_status",
        "value": "declined"
      }, {
        "parameter": "dtmf_lpc_forgiveness",
        "value": null
      } ]
    },
    "targetPage": "Greeting",
    "name": "1ffafe5c-844e-48ab-a691-965b7ddaf884"
  } ]
}
