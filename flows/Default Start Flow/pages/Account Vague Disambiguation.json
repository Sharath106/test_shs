{
  "name": "9747af9d-251a-4925-b793-21a4e434f9f2",
  "displayName": "Account Vague Disambiguation",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_account_vague_disambiguation",
      "required": true,
      "entityType": "@dtmf-menu-1-2-3-0",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "setParameterActions": [ {
            "parameter": "acctvaguedisambiguation_retrycnt",
            "value": 0
          } ],
          "conditionalCases": [ {
            "cases": [ {
              "condition": "$session.params.loop_counter = 1",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "How can I assist you with your mobility account? For example, I can help you update your account information, , activate an account, , or, check your account status." ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "En quelques mots, dites-moi comment je peux vous aider avec votre compte de services mobiles? Par exemple, je peux vous aider à mettre à jour les informations de votre compte, à activer votre compte ou à vérifier son statut." ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            }, {
              "condition": "$session.params.loop_counter = 2",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "I understand you have questions about your mobility account, but I'll need a bit more details to help out. What exactly can I help you with?" ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Je comprends que vous avez des questions sur votre compte de services mobiles, mais j'aurai besoin d'un peu plus de détails pour vous aider. En quoi puis-je vous aider exactement." ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            }, {
              "condition": "$session.params.loop_counter = 3",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "I'll need more details here. I can help update your account information, answer questions on phone number transfers, blocking certain activities and more. Can you tell me how I can help with your mobility account?" ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "J'aurais besoin de plus de détails ici. Je peux vous aider à mettre à jour les informations de votre compte, à répondre aux questions sur les transferts de numéros de téléphone, à bloquer certaines activités et bien plus encore. Pouvez-vous me dire comment je peux vous aider avec votre compte de services mobiles?" ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            } ]
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn't catch that.", "I'm sorry, I didn't understand that. ", "Sorry, I didn't get that. " ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Please say how I can help you with your account. I can help with updating your account information, inquiries about porting a number, blocking certain activities and more. " ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Veuillez indiquer comment je peux vous aider avec votre compte. Je peux vous aider à mettre à jour les informations de votre compte, à poser des questions sur le portage d'un numéro, à bloquer certaines activités et bien plus encore." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "e8de3841-4044-4fbb-a0c5-d50ab7382304"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I still didn't get that.", "I still didn't understand. ", "I'm still not sure I got this." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Say update my account information, or press 1, porting process, or press 2, say block activities, or press 3. " ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne crois toujours pas avoir compris.", "Je ne comprends toujours pas bien.", "Je crois que je ne vous suis pas." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Dites mettre à jour les informations de mon compte, ou faites le 1, processus de portage, ou faites le 2, dites bloquer les activités, ou faites le 3." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "73ffcf01-b345-4e0b-8073-edbde48126af"
        }, {
          "targetPage": "No match 3",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "9333b040-0427-49b5-b9f8-16e4c20296f8"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm sorry, I didn't hear you.", "Sorry, I didn't catch that.", "Sorry, I didn't hear that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Please say how I can help you with your account. I can help with updating your account information, inquiries about porting a number, blocking certain activities and more. " ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je suis désolé, je n'ai pas entendu. Pouvez-vous répéter ?", "Désolé, je n'ai pas entendu. Pouvez-vous répéter votre question?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Veuillez me dire comment je peux vous aider avec votre compte. Par exemple, je peux vous aider à mettre à jour les informations de votre compte, à poser des questions sur le portage d'un numéro, ou, à bloquer certaines activités." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "d0559e89-3b20-4964-9afd-768e463a4aa5"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I still didn't get that.", "I still don't hear you.", "I still didn't catch that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Say update my account information, or press 1, porting process, or press 2, say block activities, or press 3. " ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je n'ai toujours pas compris. Pouvez-vous répéter ça ?", "Je ne vous entends toujours pas. Pouvez-vous répéter ça ?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Dites mettre à jour les informations de mon compte, ou appuyez sur 1, processus de portage, ou appuyez sur 2, dites bloquer les activités, ou appuyez sur 3." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "17ee8c7c-36b6-42fa-83b9-f3777d1a3456"
        }, {
          "targetPage": "No match 3",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "f71e0486-3d2b-4f67-a096-63d956e25bba"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 5
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Account Vague Disambiguation"
    }, {
      "parameter": "page_list",
      "value": "$sys.func.IF(\"$session.params.page_list = null\", [Start Page], $session.params.page_list)"
    }, {
      "parameter": "page_list",
      "value": "$sys.func.IF(\"$sys.func.GET($session.params.page_list, $sys.func.MINUS($sys.func.COUNT($session.params.page_list), 1)) :  Repeat\", $sys.func.APPEND($session.params.page_list, Done), $sys.func.APPEND($session.params.page_list, $session.params.last_page))"
    }, {
      "parameter": "loop_counter",
      "value": "$sys.func.IF(\"$sys.func.GET($session.params.page_list, $sys.func.MINUS($sys.func.COUNT($session.params.page_list), 1)) :  Repeat\", 0, $sys.func.MINUS($sys.func.COUNT($session.params.page_list), $sys.func.COUNT($sys.func.REMOVE($session.params.page_list, $session.params.last_page))))"
    }, {
      "parameter": "repeat_counter",
      "value": null
    }, {
      "parameter": "mandatory_ss",
      "value": null
    }, {
      "parameter": "ss_mandatory_intent",
      "value": null
    }, {
      "parameter": "sms_sent_check",
      "value": null
    }, {
      "parameter": "async_no_mand_sms",
      "value": null
    }, {
      "parameter": "async_agent_count",
      "value": null
    }, {
      "parameter": "from_page",
      "value": null
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.account_update_info",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_update_info"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "8c5ee0e8-d9f9-4773-900b-f46807ab811c"
  }, {
    "intent": "head_intent.account_activation",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "multiple_line_activation"
      } ]
    },
    "targetFlow": "Rate Plans \u0026 Features",
    "name": "496b89a4-9d76-4582-b9ed-715e9b758257"
  }, {
    "intent": "head_intent.account_authorization",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_authorization"
      } ]
    },
    "targetFlow": "Online Profile",
    "name": "35312ea5-b1d9-4946-8df7-e93e12c5267a"
  }, {
    "intent": "head_intent.account_block_activity",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_block_activity"
      } ]
    },
    "targetFlow": "Equipment",
    "name": "1998f95a-bde4-4f58-bed0-ec469980b83e"
  }, {
    "intent": "head_intent.account_change_number",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "change_phonenumber"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "56bab2b2-1203-4d65-bfbc-0dcc8dc8b215"
  }, {
    "intent": "head_intent.account_close",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_close"
      } ]
    },
    "targetFlow": "Churn",
    "name": "852f4a54-5135-4bb1-81e4-4eac755606a4"
  }, {
    "intent": "head_intent.account_complaints_feedback",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_complaints_feedback"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "bf8512a9-2fc8-4905-9464-3dbe426eec99"
  }, {
    "intent": "head_intent.account_fraud",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_fraud"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "b9b1aab8-2720-4ad2-910d-d4a0adf7750d"
  }, {
    "intent": "head_intent.account_link_accounts",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_link_accounts"
      } ]
    },
    "targetFlow": "Online Profile",
    "name": "a3ed9ff4-6683-4b7b-a46e-d8e6397c1afb"
  }, {
    "intent": "head_intent.account_port_process",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "porting_process"
      } ]
    },
    "targetFlow": "Activations \u0026 Renewals",
    "name": "dad903fa-d69a-463e-93ab-c41e54b6c449"
  }, {
    "intent": "head_intent.account_reconnect_service",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "suspend_re-instate_service"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "b5bc8796-66cb-4969-a01c-3bb43d9fbe94"
  }, {
    "intent": "head_intent.account_recovery",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_recovery"
      } ]
    },
    "targetFlow": "Online Profile",
    "name": "96a12cea-3493-47bb-a328-0e2d8bc8ae23"
  }, {
    "intent": "head_intent.account_status",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_status"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "b9376cc3-fa94-40d6-8107-da8ef5d3894d"
  }, {
    "intent": "head_intent.account_switch",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_switch"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "5f9a1b18-0cca-483b-9dfc-97bf2319664b"
  }, {
    "intent": "head_intent.account_transfer_ownership",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "town"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "aec9069a-a369-46e7-9b30-1c89ebfac993"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.async_intent_list : $session.params.last_page AND $session.params.conversation.language = \"en-US\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Universal handoff",
    "name": "c9624f27-68a3-4ea3-ad6a-636928143405"
  }, {
    "intent": "head_intent.account_unlink_accounts",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "unlink_account"
      } ]
    },
    "targetFlow": "Online Profile",
    "name": "983dc765-0168-44d1-b120-6d0351c2d83e"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "async_intent",
        "value": null
      }, {
        "parameter": "async_agent_count",
        "value": null
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.async_intent_list : $session.params.last_page AND $session.params.conversation.language = \"en-US\""
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sure, let me get you to a team member." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Bien sur, il me fera plaisir de vous mettre en contact avec un membre de l’équipe." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "4fd1710c-0731-4026-960c-5aabd972ae70"
  }, {
    "condition": "$session.params.async_intent_list : $session.params.last_page AND $session.params.conversation.language = \"en-US\" AND $session.params.dtmf_account_vague_disambiguation = \"0\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Universal handoff",
    "name": "d79f0c88-39d6-49f0-bb06-4fcd86ca0d56"
  }, {
    "condition": "$session.params.dtmf_account_vague_disambiguation = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Okay, let me get someone to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Bien sur, il me fera plaisir de vous mettre en contact avec un membre de l’équipe." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "424410c0-560a-40eb-b43c-672d2071b91e"
  }, {
    "condition": "$session.params.acctvaguedisambiguation_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "acctvaguedisambiguation_retrycnt",
        "value": 0
      } ]
    },
    "name": "a0ce5f75-ebe6-4b3b-b6c4-bed59f99a19f"
  }, {
    "condition": "$session.params.acctvaguedisambiguation_retrycnt != null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "acctvaguedisambiguation_retrycnt",
        "value": "$sys.func.ADD($session.params.acctvaguedisambiguation_retrycnt,1)"
      } ]
    },
    "name": "4408adb9-20d0-4e54-854c-4365cbd4fb65"
  }, {
    "condition": "$session.params.acctvaguedisambiguation_retrycnt \u003e 3",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "acctvaguedisambiguation_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No match 2",
    "name": "996ab024-6366-4874-acb9-e6f3f229cbe3"
  }, {
    "condition": "$session.params.dtmf_account_vague_disambiguation = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_update_info"
      }, {
        "parameter": "dtmf_account_vague_disambiguation",
        "value": null
      } ]
    },
    "targetFlow": "Account Management",
    "name": "f9165722-d897-4009-b287-779b44fcb204"
  }, {
    "condition": "$session.params.dtmf_account_vague_disambiguation = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "porting_process"
      }, {
        "parameter": "dtmf_account_vague_disambiguation",
        "value": null
      } ]
    },
    "targetFlow": "Activations \u0026 Renewals",
    "name": "04515dc1-83e8-4d38-932a-e022479be848"
  }, {
    "condition": "$session.params.dtmf_account_vague_disambiguation = \"3\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_block_activity"
      }, {
        "parameter": "dtmf_account_vague_disambiguation",
        "value": null
      } ]
    },
    "targetFlow": "Equipment",
    "name": "2f7e582c-0f04-4bdc-9b3c-09ba742d2c2d"
  }, {
    "condition": "$session.params.loop_counter \u003e= 4",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Let me get you to a team member for more assistance." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Laissez-moi vous transférer à un membre de l'équipe pour plus d'assistance." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "is_repeat_prompted",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "e7ac780e-0c50-41c0-bcd9-0446bdc20833"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "acctvaguedisambiguation_retrycnt",
        "value": "$sys.func.ADD($session.params.acctvaguedisambiguation_retrycnt ,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.acctvaguedisambiguation_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn’t understand that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.acctvaguedisambiguation_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "843bdd74-3297-4096-a25b-bd5ad317568d"
  } ]
}
