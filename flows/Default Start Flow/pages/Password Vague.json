{
  "name": "acb70c20-c126-4315-a119-7d62592afba5",
  "displayName": "Password Vague",
  "form": {
    "parameters": [ {
      "displayName": "password_reset",
      "required": true,
      "entityType": "@password-reset",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "advancedSettings": {
            "playbackInterruptionSettings": {
              "allowPlaybackInterruption": true
            }
          }
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je n'ai pas compris.", "Désolé, je ne pense pas avoir compris.", "Désolé, je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avec quel mot de passe puis-je vous assister? Par exemple, je peux vous aider avec votre mot de passe Mon TELUS, Wi-Fi ou courriel. " ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn't catch that. ", "I'm sorry, I didn't understand that.", "Sorry, I didn't get that. " ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Which password can I assist you with? For example, I can help with My TELUS, WiFi, or an Email password." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "506a04e9-65b6-4604-a4ab-9d321f46997a"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Je ne comprends toujours pas.", "Je n’ai toujours pas compris.", "Je n'ai toujours pas bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Dites Mon TELUS ou appuyez sur 1, dites WiFi ou appuyez sur 2, ou dites Courriel ou appuyez sur 3." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "I still didn't get that.", "I still didn't understand. ", "I'm still not sure I got this." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Say My TELUS or press 1, say WiFi or press 2, or say Email or press 3." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "7b029197-7723-41bd-bd3f-540c87416334"
        }, {
          "targetPage": "No match 3",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "45fca8f8-26a4-4595-b959-f2b523779a61"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne vous ai pas entendu.", "Désolé, je n'ai pas entendu.", "Désolé, je n'ai pas compris." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avec quel mot de passe puis-je vous assister? Par exemple, je peux vous aider avec votre mot de passe Mon TELUS, Wi-Fi ou courriel." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "I'm sorry, I didn't hear you.", "Sorry, I didn't hear that.", "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Which password can I assist you with? For example, I can help with My TELUS, WiFi, or an Email password." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "17980ac1-add3-459c-ae56-d99f17889c5c"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Je ne comprends toujours pas.", "Je ne vous entends toujours pas.", "Je n'ai toujours pas compris." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Dites Mon TELUS ou appuyez sur 1, dites WiFi ou appuyez sur 2, ou dites Courriel ou appuyez sur 3." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "I still didn't get that.", "I still don't hear you.", "I still didn't catch that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Say My TELUS or press 1, say WiFi or press 2, or say Email or press 3." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "7baaa208-1626-4214-989d-512b02085491"
        }, {
          "targetPage": "No match 3",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "eda92c92-345c-4998-9ce0-e927660d7c14"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Password Vague"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.passwordvague_retrycnt = null OR $session.params.passwordvague_retrycnt = 0) AND $session.params.password_reset = null AND $session.params.change_wifi_pswd = null",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Pouvez-vous me dire avec quel mot de passe je peux vous aider, s'il vous plaît?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Please tell me which password I can help you with." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.passwordvague_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Avec quel mot de passe puis-je vous aider?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Par exemple, je peux vous aider avec les mots de passe de Mon  TELUS, Wi-Fi ou Courriel." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Which password can I assist you with? For example, I can help with My TELUS, WiFi, or an Email password." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.passwordvague_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Dites Mon TELUS ou appuyez sur 1, dites WiFi ou appuyez sur 2, ou dites Courriel ou appuyez sur 3." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Say My TELUS or press 1, say WiFi or press 2, or say Email or press 3." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Bien sur, il me fera plaisir de vous mettre en contact avec un membre de l’équipe." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "2a965490-aafe-42bd-91ef-abfdbaeb3a7c"
  }, {
    "condition": "$session.params.password_reset = \"voicemail\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "voicemail_issues_forgot_password"
      } ]
    },
    "targetFlow": "Troubleshooting",
    "name": "67de2356-6d46-401e-b075-523367618e42"
  }, {
    "condition": "$session.params.password_reset = \"mytelus\" OR $session.params.password_reset = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "account_recovery"
      }, {
        "parameter": "login_problems_reasons",
        "value": "Forgot password"
      } ]
    },
    "targetFlow": "Online Profile",
    "name": "7c0acec0-ab1e-4711-95ca-4270ee9fd8e0"
  }, {
    "condition": "$session.params.password_reset = \"wifi\" OR $session.params.password_reset = \"2\" OR $session.params.change_wifi_pswd != null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "change_wifipwd"
      } ]
    },
    "targetFlow": "Equipment",
    "name": "29b5ee4c-0167-47a0-9bc0-33e5a4c4418f"
  }, {
    "condition": "$session.params.password_reset = \"phone\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "passwrd_PIN_pattern"
      } ]
    },
    "targetFlow": "Equipment",
    "name": "3f1083fd-2c18-4731-830c-9b7e3a9c555a"
  }, {
    "condition": "$session.params.password_reset = \"email\" OR $session.params.password_reset = \"3\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "reset_webmailpswd"
      } ]
    },
    "targetFlow": "Equipment",
    "name": "9ed0ed86-c12e-4aaa-9859-037a51de6316"
  }, {
    "condition": "$session.params.password_reset = \"pin\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "forgot_PIN"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "d21a3e72-a47d-47cc-9716-cdb701f2dbf0"
  }, {
    "condition": "$session.params.password_reset = \"2FA\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "2FA"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "ba378d30-9d59-44e7-831b-1decfc80cde2"
  }, {
    "condition": "$session.params.password_reset = \"smarthub\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "smarthub_resetpswd"
      } ]
    },
    "targetFlow": "Equipment",
    "name": "53f38829-e072-49c9-b52f-496d43b81a62"
  }, {
    "condition": "$session.params.password_reset = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord, laissez-moi trouver quelqu'un qui pourra vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Okay, let me get someone to help you." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "b5d1f26b-d4fc-4283-897a-64b66c0494be"
  }, {
    "condition": "$session.params.passwordvague_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "passwordvague_retrycnt",
        "value": 0
      } ]
    },
    "name": "db6bbcd2-d2f8-436f-892a-12097fcee15b"
  }, {
    "condition": "$session.params.passwordvague_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "passwordvague_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No match 2",
    "name": "fbfd1a4e-511b-436b-b28e-50bd010f290f"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "passwordvague_retrycnt",
        "value": "$sys.func.ADD($session.params.passwordvague_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.passwordvague_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn’t understand that." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.passwordvague_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "3695d31c-6268-46c7-997f-ad9efaacd5c0"
  } ]
}
