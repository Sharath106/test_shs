{
  "name": "3e483989-5bef-4b8d-9bb6-a627aef2f566",
  "displayName": "Account update info",
  "form": {
    "parameters": [ {
      "displayName": "update_account_info",
      "required": true,
      "entityType": "@update-account-info",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "What information would you like to update on your account?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Quelles informations souhaitez-vous mettre à jour sur votre compte?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "f725bc7d-34f7-4343-8524-59d3570e3878"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For updates, say billing address or press 1, email address or press 2, name changes or press 3." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour les mises à jour, dites adresse de facturation ou faites le 1. Adresse courriel ou faites le 2. Changements de nom ou faites le 3." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "748dfc5e-e0bf-4690-a968-26c9abf1d5a7"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "25e26e0b-eaac-4ff7-a12e-e0a5ebab187a"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn't understand that.", "Sorry,  I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "What information would you like to update on your account?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi. " ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Quelles informations souhaitez-vous mettre à jour sur votre compte?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "97d92dc4-6e37-4d70-bf42-1662a63f2440"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For updates, say billing address or press 1, email address or press 2, name changes or press 3." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour les mises à jour, dites adresse de facturation ou faites le 1. Adresse courriel ou faites le 2. Changements de nom ou faites le 3." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "2594e973-0447-480c-a212-c3bf197d9981"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "1080a59f-50c4-40fa-bd6d-ce273635397d"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Account update info"
    }, {
      "parameter": "last_page_summary",
      "value": "updating your account info"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "mettre à jour les informations de votre compte"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.accountupdateinfo_retrycnt = null OR $session.params.accountupdateinfo_retrycnt = 0) AND $session.params.update_account_info = null AND $session.params.agent_try = null",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "What information would you like to update on your account?" ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Quelles informations souhaitez-vous mettre à jour sur votre compte?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.accountupdateinfo_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "What information would you like to update on your account?" ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Quelles informations souhaitez-vous mettre à jour sur votre compte?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.accountupdateinfo_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "For updates, say billing address or press 1, email address or press 2, name changes or press 3." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Pour les mises à jour, dites adresse de facturation ou faites le 1. Adresse courriel ou faites le 2. Changements de nom ou faites le 3." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.async_intent_list : $session.params.last_page AND $session.params.conversation.language = \"en-US\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Default Start Flow",
    "name": "2b9cc254-f1af-431e-8c73-323a258b4bf1"
  }, {
    "intent": "head_intent.bill_paper_billing",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "bill_notifications"
      } ]
    },
    "targetFlow": "Billing",
    "name": "2c99b1ef-24a3-4324-80b5-6be31aeba01c"
  }, {
    "intent": "head_intent.preauthorized_payment_update",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "preauth_payment"
      }, {
        "parameter": "payment_method_action",
        "value": "update"
      } ]
    },
    "targetFlow": "Payment",
    "name": "908dd957-2bf6-4bc7-8aba-5f3f6d638ca7"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Apologies, can you be more specific about the information you want to update on your account." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Mes excuses, pouvez-vous être plus précis sur les informations que vous souhaitez mettre à jour sur votre compte." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "668a10a9-d207-4eb1-a06b-312f64c2f019"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountupdateinfo_retrycnt",
        "value": null
      }, {
        "parameter": "update_account_info",
        "value": null
      } ]
    },
    "targetPage": "End page",
    "name": "8fcdc26c-0ea0-4546-b496-11764b33b94d"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountupdateinfo_retrycnt",
        "value": null
      }, {
        "parameter": "update_account_info",
        "value": null
      } ]
    },
    "targetPage": "End page",
    "name": "29ed320b-98f5-4ced-9763-5156cade0d2b"
  }, {
    "intent": "small_talk.i_dont_know",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "You can choose from update billing address, update email address or name change." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Vous pouvez choisir entre la mise à jour de l'adresse de facturation, la mise à jour de l'adresse de courriel ou le changement de nom." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "9c6d1202-22bd-40e8-aae6-5a1185e621f0"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.agent_try = null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "In order to connect you to the right team member, I need to understand the reason behind your call. Please let me know the specific type of support you need." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Afin de vous mettre en contact avec le bon membre de l'équipe, je dois comprendre la raison de votre appel. Veuillez m'indiquer le type d'assistance dont vous avez besoin." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "agent_try",
        "value": "1"
      } ]
    },
    "targetPage": "Current Page",
    "name": "100535e2-de87-48f9-adcd-b27b5d94712f"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.agent_try = \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To connect you with a right team member, I need to know what information you want to update on your account." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "You can choose from update billing address, update email address or name change." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pour vous mettre en contact avec le bon membre de l'équipe, j'ai besoin de savoir quelles informations vous souhaitez mettre à jour sur votre compte." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Vous pouvez choisir entre la mise à jour de l'adresse de facturation, la mise à jour de l'adresse de courriel ou le changement de nom." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "agent_try",
        "value": "2"
      } ]
    },
    "targetPage": "Current Page",
    "name": "5768c5fc-8e3c-4ba6-83f5-d063bc705ee7"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.agent_try = \"2\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Alright, let's get someone to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, demandons à quelqu'un de vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "agent_try",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "d0ade66d-1b35-458f-8bd3-0182f565b6bf"
  }, {
    "condition": "$session.params.update_account_info = \"billing address\" OR $session.params.update_account_info = \"1\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Change Bill Address",
    "name": "6c7a9297-d256-4275-aa93-13dbd779bf42"
  }, {
    "condition": "$session.params.update_account_info = \"email address\" OR $session.params.update_account_info = \"2\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Change Email Address",
    "name": "d95c46c6-ea8e-41dc-a966-b81e0b971a71"
  }, {
    "condition": "$session.params.update_account_info = \"shipping address\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Your shipping address will usually be the same as your billing address. " ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "If you've recently made an order and need to update the shipping address, I can help get you to the right person." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Votre adresse de livraison est normalement la même que votre adresse de facturation." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Si vous avez récemment fait une commande et vous avez besoin de modifier l'adresse de livraison, je peux aider à vous rediriger vers le bon agent." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "route",
        "value": "order_issues"
      } ]
    },
    "targetFlow": "Activations \u0026 Renewals",
    "name": "d923a691-2c0b-446c-abc8-33c094286a2d"
  }, {
    "condition": "$session.params.update_account_info = \"billing address\" AND $session.params.billing_error = \"error\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Change Address Error",
    "name": "fc54bdcc-32d2-48fb-9748-b3b74ba04e97"
  }, {
    "condition": "$session.params.update_account_info = \"name\" OR $session.params.update_account_info = \"3\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Account name change",
    "name": "2a34ec18-1d13-40bc-93df-fd216f424576"
  }, {
    "condition": "$session.params.update_account_info = \"line\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Change Phone Number",
    "name": "72555703-47cf-4c56-935d-9093e53a065b"
  }, {
    "condition": "$session.params.accountupdateinfo_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountupdateinfo_retrycnt",
        "value": 0
      } ]
    },
    "name": "f03130a1-0ed3-42b7-910f-363b21a22aac"
  }, {
    "condition": "$session.params.accountupdateinfo_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountupdateinfo_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "af7df9f2-38b9-4bd7-801a-570ab6c99701"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "accountupdateinfo_retrycnt",
        "value": "$sys.func.ADD($session.params.accountupdateinfo_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.accountupdateinfo_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.accountupdateinfo_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "c13ad385-9ae3-438e-a8a2-166dcb15524e"
  } ],
  "transitionRouteGroups": [ "sup_route_account_management" ]
}
