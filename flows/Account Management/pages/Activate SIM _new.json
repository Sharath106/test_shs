{
  "name": "8e7cf78d-18c7-4158-a56c-f92150d774b6",
  "displayName": "Activate SIM _new",
  "form": {
  
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "We can activate your SIM card together. Do you have access to open up the My TELUS app on your phone right now?" ]
      },
      "languageCode": "en"
    } ],
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Activate SIM _new"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "agent_ask",
        "value": "$sys.func.IF(\"$session.params.agent_ask = null\", 1, $session.params.agent_ask)"
      }, {
        "parameter": "agent_ask",
        "value": "$sys.func.ADD($session.params.agent_ask, 1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.agent_ask \u003e= 2"
        }, {
          "condition": "$session.params.agent_ask = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "A team member will not be able to change your sim card as it's considered a self-serve only transaction. I'm happy to guide you through the steps, or even send you a text message with the instructions if you'd like. Can you open the my telus app on your phone?" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I understand you'd like to speak with someone. Activating your sim card can only be done online, but I'm happy to guide you through the steps. Are you able to open up the my telus app?" ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "3fc57c1a-8b6b-4226-b27e-5f2cd4b25ff6"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "$session.params.online_vs_app = null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem.", "No worries.", "That's ok." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Activating a sim card can only be online, so do you maybe have access to log into your account online from a computer or tablet?" ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "online_vs_app",
        "value": "online"
      } ]
    },
    "name": "c23c7698-fcc1-4ef6-9768-3dbdfd166ccd"
  }, {
    "intent": "supplemental.no_app",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem.", "No worries.", "That's ok." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Activating a sim card can only be online, so do you maybe have access to log into your account online from a computer or tablet?" ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "online_vs_app",
        "value": "online"
      } ]
    },
    "name": "582e4a24-0ef0-4d33-a079-470fc6ca1e1c"
  }, {
    "intent": "supplemental.no_phone_available",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem.", "No worries.", "That's ok." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Activating a sim card can only be online, so do you maybe have access to log into your account online from a computer or tablet?" ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "online_vs_app",
        "value": "online"
      } ]
    },
    "name": "e8c77a98-75e6-474e-8a6a-a8daf7a357e6"
  }, {
    "intent": "supplemental.onlineacct",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "It can definitely be done on the website as well. Let me know when you're logged into your online account." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "online_vs_app",
        "value": "online"
      } ]
    },
    "targetPage": "Activate SIM _new steps",
    "name": "26a2c2d7-5045-4b2a-9f25-1c2ecbea474e"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
    
    },
    "targetPage": "Activate SIM _new steps",
    "name": "40107adb-3b07-48cf-bb0f-1269f6fadd82"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "$session.params.online_vs_app = \"online\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem. In this case, I'll send you the instructions via text message. This way, you can look  into it when you have a chance later." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN731900RY"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN7319005X"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "369d1e09-644e-45d7-b472-c6a80aed1225"
  }, {
    "condition": "$session.params.agent_ask \u003e= 2",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Universal handoff",
    "name": "48cbc36b-1e39-40f2-a13a-d9f1b364bf69"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Je ne crois pas avoir bien saisi.", "Désolé, je n'ai pas tout à fait compris.", "Désolé, je ne pense pas avoir compris." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sorry, I didn’t understand that.", "Sorry, I did not catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Do you have access to open up the My TELUS app on your phone right now?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "883c3480-5fe8-4c9c-a9c5-36d18ac09837"
  }, {
    "event": "sys.no-match-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Veuillez répondre avec oui ou par non." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Please respond with yes or no. " ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "e96dd104-23cd-449a-9a77-b628bb36cda0"
  }, {
    "targetPage": "No Match 2",
    "event": "sys.no-match-3",
    "triggerFulfillment": {
    
    },
    "name": "3029fddd-1977-47cb-be23-cf3fd7d6ee38"
  }, {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Je ne crois pas avoir bien saisi.", "Désolé, je n'ai pas tout à fait compris.", "Désolé, je ne pense pas avoir compris." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sorry, I didn’t understand that.", "Sorry, I did not catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Do you have access to open up the My TELUS app on your phone right now?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "ba3b17eb-4cc2-4b8e-bd7c-a62693811639"
  }, {
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Veuillez répondre avec oui ou par non." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Please respond with yes or no. " ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "84a857a3-3516-4d09-b84f-5304040a6fd2"
  }, {
    "targetPage": "No Match 2",
    "event": "sys.no-input-3",
    "triggerFulfillment": {
    
    },
    "name": "beacf429-7653-4a6a-a89c-8ff7e04c17a3"
  } ]
}
