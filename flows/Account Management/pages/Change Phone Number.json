{
  "name": "9cd18a71-70e7-43b7-baab-24f56fb90df4",
  "displayName": "Change Phone Number",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_change_number",
      "required": true,
      "entityType": "@dtmf-change-number-province",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Are you looking to change your phone number to a different province?" ]
            },
            "languageCode": "en"
          }, {
            "text": {
              "text": [ "Souhaitez-vous changer votre numéro de téléphone pour une autre province?" ]
            },
            "languageCode": "fr-ca"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you looking to change your phone number to a different province?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Souhaitez-vous changer votre numéro de téléphone pour une autre province?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "0f502456-369b-4b4e-a7ce-c21b7ce7b855"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you are looking to change you phone number to a different province, say yes or press 1. If not, say no or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous souhaitez changer votre numéro de téléphone pour une autre province, dites oui ou faites le 1. Sinon, dites non ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "763c09e3-546d-4b66-9f6f-81c1c8bfa48b"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "837a6925-2f85-4d34-951b-ce7fbc4a4ee0"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you looking to change your phone number to a different province?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Souhaitez-vous changer votre numéro de téléphone pour une autre province?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "7de21c30-952c-44f1-aeb7-69cdc96dfe44"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you are looking to change you phone number to a different province, say yes or press 1. If not, say no or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous souhaitez changer votre numéro de téléphone pour une autre province, dites oui ou faites le 1. Sinon, dites non ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "fec88b9e-fa31-42a5-bfac-d088e099dec1"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "17d4a9f6-5887-4abf-ab0d-f4fb8df54628"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Change Phone Number"
    }, {
      "parameter": "page_summary",
      "value": "changing your phone number"
    }, {
      "parameter": "page_summaryfr",
      "value": "le changement de votre numéro de téléphone"
    }, {
      "parameter": "last_page_summary",
      "value": "changing your phone number"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "le changement de votre numéro de téléphone"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.async_intent_list : $session.params.last_page AND $session.params.conversation.language = \"en-US\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Default Start Flow",
    "name": "04b128ca-3d9e-4e00-9539-89368e04870f"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pas de problème." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_change_number",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "9c666a02-d74d-4472-b6e3-918040b2c30a"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Alright, let's get someone to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, quelqu'un va vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_change_number",
        "value": null
      }, {
        "parameter": "change_num_province",
        "value": "true"
      }, {
        "parameter": "last_page",
        "value": "change phone number_different province"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "c8a124b1-09d3-47c4-aad3-ab428a8797e0"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "dtmf_change_number",
        "value": null
      }, {
        "parameter": "change_num_province",
        "value": "false"
      } ]
    },
    "targetPage": "Change Phone Number SMS",
    "name": "b14c8716-51a3-469e-878a-e71ca247b904"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pas de problème." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_change_number",
        "value": null
      } ]
    },
    "targetPage": "End page",
    "name": "1c3c64fd-4156-44c1-ac72-93f89064c3f3"
  }, {
    "condition": "$session.params.change_num_province = \"false\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Change Phone Number SMS",
    "name": "8052f97d-58e7-44fa-8fa8-6bb784cbbf6b"
  }, {
    "condition": "$session.params.dtmf_change_number = \"1\" OR $session.params.dtmf_change_number = \"different\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Alright, let's get someone to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, quelqu'un va vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_change_number",
        "value": null
      }, {
        "parameter": "change_num_province",
        "value": "true"
      }, {
        "parameter": "last_page",
        "value": "change phone number_different province"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "4dc2d096-807f-49c1-8fc6-0fac0bd6e12e"
  }, {
    "condition": "$session.params.dtmf_change_number = \"2\" OR $session.params.dtmf_change_number = \"same\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "dtmf_change_number",
        "value": null
      }, {
        "parameter": "change_num_province",
        "value": "false"
      } ]
    },
    "targetPage": "Change Phone Number SMS",
    "name": "12fac0c0-f543-4fb8-ad9a-9eaef6e8c72d"
  } ],
  "transitionRouteGroups": [ "sup_route_account_management" ]
}
