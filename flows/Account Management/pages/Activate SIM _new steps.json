{
  "name": "483a302f-a99c-464d-8166-fedf34044859",
  "displayName": "Activate SIM _new steps",
  "form": {
  
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "online_vs_app",
      "value": "$sys.func.IF(\"$session.params.online_vs_app = null\", app, $session.params.online_vs_app)"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "condition": "$session.params.no_input_trigger = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "step",
        "value": "$sys.func.ADD($session.params.step, 1)"
      } ]
    },
    "name": "6f434068-2d5e-4d88-ba89-3309a6447626"
  }, {
    "intent": "supplemental.ready_for_steps",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "step",
        "value": "$sys.func.ADD($session.params.step, 1)"
      }, {
        "parameter": "no_input_trigger",
        "value": null
      } ]
    },
    "name": "962b3d04-7392-4654-b70e-4e83b9604ee4"
  }, {
    "intent": "small_talk.acknowledge_fixed_issue",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Amazing! You should now be able to put your sim card in your device and have access to the network. Keep in mind, a reboot of your device may be required." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "no_input_trigger",
        "value": null
      } ]
    },
    "targetPage": "End page",
    "name": "4f8e1830-53fc-40b1-a6e8-3e0107ec9d09"
  }, {
    "intent": "small_talk.repeat",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Of course.", "Yes, definitely.", "Absolutely." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "no_input_trigger",
        "value": null
      } ]
    },
    "targetPage": "Current Page",
    "name": "37fb4913-53ae-433b-88fa-cd4425eea8aa"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "agent_ask",
        "value": "$sys.func.IF(\"$session.params.agent_ask = null\", 1, $session.params.agent_ask)"
      }, {
        "parameter": "agent_ask",
        "value": "$sys.func.ADD($session.params.agent_ask, 1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.agent_ask \u003e= 2"
        }, {
          "condition": "$session.params.agent_ask = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "A team member will not be able to change your sim card as it's considered a self-serve only transaction. I'm happy to guide you through the steps, or even send you a text message with the instructions if you'd like. Can you open the my telus app on your phone?" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I understand you'd like to speak with someone. Activating your sim card can only be done online, but I'm happy to guide you through the steps. Are you able to open up the my telus app?" ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "ee537d6b-5d97-49ce-9366-25bdb8c727e3"
  }, {
    "intent": "small_talk.confirmation_yes",
    "condition": "$session.params.no_input_trigger = \"true\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "no_input_trigger",
        "value": null
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.step = 3",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003ePerfect, just let me know if it's all working once you're done then.\u003cbreak time=\"15s\"/\u003e\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003eGreat. Let me know when you're ready for the next steps, or if you need me to repeat the previous ones.\u003cbreak time=\"15s\"/\u003e\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "d239ce6d-6506-448a-9757-f070d3ac73d2"
  }, {
    "condition": "$session.params.step = 3",
    "triggerFulfillment": {
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.online_vs_app = \"online\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003eDepending on your previous selections, you will either need to enter in the sim card number, or go through the 2 step verification to enter in your e-sim number. Take your time to go through those steps, and let me know if it works.\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003eDepending on your previous selections, you will either need to enter in the sim card number, or go through the 2 step verification to enter in your e-sim number. Take your time to go through those steps, and let me know if it works.\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "787751f1-c90f-453c-81c4-e59c53f2a032"
  }, {
    "condition": "$session.params.step = 2",
    "triggerFulfillment": {
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.online_vs_app = \"online\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003eOnce that's done, confirm whether you currently use an apple or android device, and hit continue.\u003cbreak time=\"1s\"/\u003e You'll then be prompted to select from a few scenarios. Select the one that applies to you, and let me know once that's done for the next steps.\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003eOk, now you may need to choose the device or line you're looking to make the changes for. \u003cbreak time=\"1s\"/\u003eOnce that's done, confirm whether you currently use an apple or android device, and hit continue.\u003cbreak time=\"1s\"/\u003e You'll then be prompted to select from a few scenarios. Select the one that applies to you, and let me know once that's done for the next steps.\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "d789dd47-d511-4ab3-804a-a1649131d09a"
  }, {
    "condition": "$session.params.step = 1",
    "triggerFulfillment": {
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.online_vs_app = \"online\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003eSelect the plans and devices tabs at the top of your screen. You may need to select the line where you want to make the changes, and then select device at the top.\u003cbreak time=\"2s\"/\u003e You can then choose, change a sim card on the right. Let me know when this opens up.\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "\u003cspeak\u003eSelect the plans and devices tabs at the bottom of your screen, and then device at the top.\u003cbreak time=\"2s\"/\u003e Scroll down a bit and select, swap your sim card. Let me know when this opens up.\u003c/speak\u003e" ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "b88747d7-ef29-4062-b481-2b4a77839dab"
  }, {
    "condition": "$session.params.step = null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Great. Please go ahead and log in, and let me know when you're ready for the instructions." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "step",
        "value": 0
      } ]
    },
    "name": "332d9c80-f8a0-4cb6-b809-f91a0e53e2c4"
  }, {
    "condition": "$session.params.agent_ask \u003e= 2",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Universal handoff",
    "name": "2ca0e8b9-5056-44b4-9264-ae78b453314e"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Are you still there?", "Just wanted to check in, are you still ok?", "Is everything still ok?" ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "no_input_trigger",
        "value": "true"
      } ]
    },
    "name": "7c158620-9fc6-4fee-951d-1f8f084ba0cf"
  }, {
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, I just need to confirm, are you still there?", "Just want to check in, are you still here?" ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "no_input_trigger",
        "value": "true"
      } ]
    },
    "name": "0958003c-7472-4081-870d-2d8ea432c1e6"
  } ],
  "advancedSettings": {
    "speechSettings": {
      "endpointerSensitivity": 90,
      "noSpeechTimeout": {
        "seconds": 30
      }
    }
  },
  "speakerIdSettings": {
  
  }
}
