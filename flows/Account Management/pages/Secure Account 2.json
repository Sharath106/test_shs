{
  "name": "a390b016-0cf8-428f-9be5-4773d44fb013",
  "displayName": "Secure Account 2",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_secureaccount2",
      "required": true,
      "entityType": "@dtmf-menu-9-1",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like me to send a text to your phone with more information about account security?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Souhaitez-vous que j'envoie un messages texte avec plus d'informations sur la sécurité du compte ?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "a8dfe880-ba78-496e-9736-5d8211ff3da1"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text message, say yes, or press 9, team member, or press 0." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour recevoir un message texte, dites oui ou faites le 9. Membre de l'équipe, ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "c2af6356-10ed-4621-b3a7-c77503174ca3"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "665a5134-9f10-429b-a304-30df11e3b9f4"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like me to send a text to your phone with more information about account security?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Souhaitez-vous que j'envoie un messages texte avec plus d'informations sur la sécurité du compte ?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "ec7f76d1-444f-418f-91d5-e26ef582379e"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text message, say yes, or press 9, team member, or press 0." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "\r\nPour recevoir un message texte, dites oui ou faites le 9. Membre de l'équipe, ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "a5837898-d3b8-43fd-89e6-0878937f31aa"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "1c283d68-3b69-4aa7-9f63-bceac652c9c4"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "Are you experiencing unusual activity?" ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Vous vivez des activités inhabituelles ?" ]
      },
      "languageCode": "fr-ca"
    } ],
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Secure Account 2"
    }, {
      "parameter": "page_summary",
      "value": "how to protect yourself from fraud"
    }, {
      "parameter": "page_summaryfr",
      "value": "la protection contre la fraude"
    }, {
      "parameter": "last_page_summary",
      "value": "how to protect yourself from fraud"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "la protection contre la fraude"
    }, {
      "parameter": "sms_ask",
      "value": "1"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Okay, let me get a team member to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi trouver un membre de l'équipe pour vous aider." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "dc618a24-5c3e-4acc-a8b6-cd2256d721f5"
  }, {
    "intent": "small_talk.confirmation_yes",
    "condition": "$session.params.sms_ask = \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Okay, let me get a team member to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi trouver un membre de l'équipe pour vous aider." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "a80f34b7-b318-47b7-b637-b4ffba460dfe"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "$session.params.sms_ask = \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "At TELUS, we provide several measures to help secure account supporting information. Some of these measures include, security alerts, two-factor authentication and other types of resources to educate customers on how to secure their accounts." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Would you like me to send a text to your phone with more information about account security?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Chez TELUS, nous proposons plusieurs mesures pour aider à sécuriser les informations justificatives des comptes. Certaines de ces mesures incluent des alertes de sécurité, une authentification à deux facteurs et d'autres types de ressources pour informer les clients sur la manière de sécuriser leurs comptes." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Souhaitez-vous que j'envoie un message texte avec plus d'informations sur la sécurité du compte?" ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_ask",
        "value": "2"
      } ]
    },
    "name": "88d998c1-25dc-42b6-85e5-50625d5fc746"
  }, {
    "intent": "small_talk.confirmation_yes",
    "condition": "$session.params.sms_ask = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319010F"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900U7"
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_ask",
        "value": null
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "1bc8a272-3e41-42a6-b894-7c2b791b0a60"
  }, {
    "intent": "small_talk.confirmation_no",
    "condition": "$session.params.sms_ask = \"2\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Okay, let me get a team member to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi trouver un membre de l'équipe pour vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_ask",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "d04c88e1-a4a7-4a30-901c-52e500abed45"
  }, {
    "condition": "$session.params.dtmf_secureaccount2 = \"0\" OR $session.params.dtmf_secureaccount2 = \"agent\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Okay, let me get a team member to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi trouver un membre de l'équipe pour vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "secureaccount_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_secureaccount",
        "value": null
      }, {
        "parameter": "agent_ask",
        "value": "1"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "f2926e4a-075c-48a8-8b48-dd33c0386367"
  }, {
    "condition": "$session.params.dtmf_secureaccount2 = \"9\" OR $session.params.dtmf_secureaccount2 = \"sms\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319010F"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900U7"
      }, {
        "parameter": "secureaccount_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_secureaccount2",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "1939942b-1617-4681-8d57-e47a7bb6980d"
  } ]
}
