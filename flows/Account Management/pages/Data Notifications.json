{
  "name": "ff99a5ea-dc17-4266-bc21-c1a97d998c89",
  "displayName": "Data Notifications",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_data_notifications",
      "required": true,
      "entityType": "@dtmf-menu",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Would you like a text to do that now?" ]
            },
            "languageCode": "en"
          }, {
            "text": {
              "text": [ "Aimeriez-vous que j'envoie un message texte avec plus d'informations?" ]
            },
            "languageCode": "fr-ca"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn't understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like a text to manage your notifications?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous recevoir un message texte avec plus d'informations sur la gestion de vos notifications de données?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "fcc5bade-8802-4014-941c-a7d35de17cb0"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text message, say yes, or press 9, team member, or press 0." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour recevoir un message texte, dites oui ou faites le 9. Membre de l'équipe, ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "204841a2-eba5-46d1-a3ba-e6e5b595b443"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "8b45e87d-c35f-44a5-b9a2-fd5e376f5011"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn't understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like a text to manage your notifications?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne crois pas avoir bien saisi.", "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous recevoir un message texte avec plus d'informations sur la gestion de vos notifications de données?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "e6d2eb54-a90f-4f41-9cc1-6d13c54e9be1"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "To receive a text message, say yes, or press 9, team member, or press 0." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour recevoir un message texte, dites oui ou faites le 9. Membre de l'équipe, ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "521d4023-bf9e-4d51-93bc-afe13d294766"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "fbf3aba6-0160-4c35-85cc-5cec0041d3a9"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Data Notifications"
    }, {
      "parameter": "sms_flow_status",
      "value": "offered"
    }, {
      "parameter": "page_summary",
      "value": "data notifications"
    }, {
      "parameter": "page_summaryfr",
      "value": "les notifications de données"
    }, {
      "parameter": "last_page_summary",
      "value": "setting up data notifications"
    }, {
      "parameter": "last_page_summaryfr",
      "value": "définir les avis d’utilisation de données"
    }, {
      "parameter": "mandatory_ss",
      "value": "true"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "To get more information about data notifications, you must use your My TELUS account to get the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "An agent may not be able to complete this on a customer behalf, I am sending you a link to My TELUS now." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Pour obtenir plus d'informations sur les avis d’utilisation de données, vous devez utiliser votre compte Mon TELUS pour obtenir la résolution la plus rapide. Il est simple à utiliser et vous permet d'éviter d'attendre en ligne." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire à l'assistant virtuel dans votre compte Mon TELUS." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "You can easily manage data notifications, and who receives them through My TELUS." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "You're able to change when the notifications are sent, who receives them, and who is authorized to unblock the account." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "It provides data usage alerts when your data use reaches 75, 90 and 100%." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous pouvez gérer vos avis d’utilisation de données et décider qui les reçoit à partir de votre profil Mon TELUS." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous avez la possibilité de choisir quand les avis sont envoyés et à qui ils sont envoyés, ainsi que les abonnés autorisés à débloquer le compte." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Les avis d’utilisation de données vous informent lorsque la limite de données atteint  soixante-quinze pour cent, quatre-vingt-dix pour cent et cent pour cent." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN73190064"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN7319010N"
      }, {
        "parameter": "data_notifications_dtmf",
        "value": null
      }, {
        "parameter": "datanotifications_retrycnt",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "68232fde-2b27-467b-b09c-d0a08cc46140"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "data_notifications_dtmf",
        "value": null
      }, {
        "parameter": "datanotifications_retrycnt",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      }, {
        "parameter": "sms_template",
        "value": "0009SaHN731900ND"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900PE"
      } ]
    },
    "targetPage": "End page",
    "name": "87c7ef21-26e5-4506-afe2-e3b727304336"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "datanotifications_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_data_notifications",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      }, {
        "parameter": "sms_template",
        "value": "0009SaHN731900ND"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900PE"
      } ]
    },
    "targetPage": "End page",
    "name": "f0b4e103-c365-4e71-b99d-f644a6c16245"
  }, {
    "condition": "true",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "sms_template",
        "value": "0009SaHN73190064"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN7319010N"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "25fb6b53-c050-4951-8cc7-d0977ce102f5"
  }, {
    "condition": "$session.params.dtmf_data_notifications = \"9\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN73190064"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN7319010N"
      }, {
        "parameter": "data_notifications_dtmf",
        "value": null
      }, {
        "parameter": "datanotifications_retrycnt",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "261ba21e-3db2-41b0-91ea-06cbdbf3993d"
  }, {
    "condition": "$session.params.dtmf_data_notifications = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Okay, let me get someone to help you." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "D'accord, laissez-moi chercher quelqu'un pour vous aider." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "data_notifications_dtmf",
        "value": null
      }, {
        "parameter": "datanotifications_retrycnt",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "77a4bde6-1613-4469-8c03-93a389fa5512"
  } ],
  "transitionRouteGroups": [ "sup_route_account_management" ]
}
