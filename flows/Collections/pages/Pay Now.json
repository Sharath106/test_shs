{
  "name": "57aee77a-e141-4495-a269-651974974ac3",
  "displayName": "Pay Now",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_collections_pay_now",
      "required": true,
      "entityType": "@dtmf-menu-1-2-0",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous faire un paiement maintenant?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like to go ahead and pay that now?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "3024c531-0528-4acc-bb40-dfbcf6a1bd03"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour payer maintenant, dites oui ou faites le 1. Non ou faites le 2. Pour parler à un membre de l’équipe, dites membre de l’équipe ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To pay now, say yes or press 1. No or press 2. To speak with a team member, say team member or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "821725a2-3e58-4c1c-a1cc-1f1112df1174"
        }, {
          "targetPage": "Collections End Page",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "f7136134-8b6a-44a8-acb0-b9bfe7cd5801"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous faire un paiement maintenant?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like to go ahead and pay that now?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "5db80f6d-4cd0-4a85-b1a9-47c5d53f8d4a"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour payer maintenant, dites oui ou faites le 1. Non ou faites le 2. Pour parler à un membre de l’équipe, dites membre de l’équipe ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To pay now, say yes or press 1. No or press 2. To speak with a team member, say team member or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "23c1e9f7-2f2e-431e-b28c-e76c9a1be9a7"
        }, {
          "targetPage": "Collections End Page",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "c9144d00-7960-450e-8bf6-d588f0f03530"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "conditionalCases": [ {
      "cases": [ {
        "condition": "$session.params.collpaynow_retrycnt = null OR $session.params.collpaynow_retrycnt = 0",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Aimeriez-vous faire un paiement maintenant?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Would you like to go ahead and pay that now?" ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.collpaynow_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Aimeriez-vous faire un paiement maintenant?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Would you like to go ahead and pay that now?" ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.collpaynow_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Pour payer maintenant, dites oui ou faites le 1. Non ou faites le 2. Pour parler à un membre de l’équipe, dites membre de l’équipe ou faites le 0." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "To pay now, say yes or press 1. No or press 2. To speak with a team member, say team member or press 0." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_make"
      }, {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetFlow": "Payment",
    "name": "11c55d11-b9a6-42bb-92e6-9603701e8e1a"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetPage": "Decline making a payment",
    "name": "3d68378a-30db-4e1b-a129-bcd4cb0d69d0"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord, laissez-moi chercher quelqu'un pour vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Alright, let's get someone to help you." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      }, {
        "parameter": "last_page",
        "value": "Pay Now"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "0746a88c-ee6e-491a-9d5d-d3df2e3397d2"
  }, {
    "intent": "head_intent.payment_make",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_make"
      }, {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetFlow": "Payment",
    "name": "e96a79b9-6ebc-42d4-832f-605f653a50d6"
  }, {
    "intent": "head_intent.payment_arrangements",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_arrangement"
      }, {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetFlow": "Payment",
    "name": "7618fe4f-acbb-4bcb-a5de-1f2622b6ddc3"
  }, {
    "intent": "supplemental.payment_made",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_made"
      }, {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetFlow": "Payment",
    "name": "08a5cfd8-fdb3-4063-a1a5-f96947af5a98"
  }, {
    "intent": "head_intent.bill_amount_due",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "bill_amount_due"
      }, {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetFlow": "Billing",
    "name": "fdf946da-cb56-46a4-a0a9-c7d93731ee0f"
  }, {
    "condition": "$session.params.dtmf_collections_pay_now = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_make"
      }, {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetFlow": "Payment",
    "name": "a384e972-d635-4f37-98ad-5b03a166b2db"
  }, {
    "condition": "$session.params.dtmf_collections_pay_now = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      } ]
    },
    "targetPage": "Decline making a payment",
    "name": "53b26622-1c3e-4124-a84f-425f1d2e3839"
  }, {
    "condition": "$session.params.dtmf_collections_pay_now = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord, laissez-moi chercher quelqu'un pour vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Alright, let's get someone to help you." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "collpaynow_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_collections_pay_now",
        "value": null
      }, {
        "parameter": "last_page",
        "value": "Pay Now"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "62baaca1-1762-4354-8408-1bdbbf1481cb"
  }, {
    "condition": "$session.params.collpaynow_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "collpaynow_retrycnt",
        "value": 0
      } ]
    },
    "name": "e3f78308-5047-4530-b9e1-07d6f9061e1e"
  }, {
    "condition": "$session.params.collpaynow_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "collpaynow_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "47246d93-5208-417b-8a82-d58e689a9e48"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "collpaynow_retrycnt",
        "value": "$sys.func.ADD($session.params.collpaynow_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.collpaynow_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.collpaynow_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Je ne crois toujours pas avoir bien compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "52802de7-3c78-4338-827b-30e344eb7fe2"
  } ]
}
