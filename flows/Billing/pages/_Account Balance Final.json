{
  "name": "3cb39d47-b1b9-4f86-862e-8dfcfa63c7d7",
  "displayName": "_Account Balance Final",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_acctbalance",
      "required": true,
      "entityType": "@dtmf-menu",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you have any other questions about your invoice?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Est-ce que je peux vous aider avec autre chose pour votre facture?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "14305315-cd54-4472-9d6d-696bec9b791c"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you have any other questions about your invoice?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Est-ce que je peux vous aider avec autre chose pour votre facture?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "3932ea70-e15b-47fe-bbad-e29d75976db9"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm still not sure I got this. Can I help you with anything else regarding your bill?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne crois toujours pas avoir bien compris. Avez-vous toujours des questions sur votre facture?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "ff19a994-1626-4e84-89d8-3bb559d1b529"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "I'm still not sure I got this. Can I help you with anything else regarding your bill?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je ne crois toujours pas avoir bien compris. Avez-vous toujours des questions sur votre facture?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "45f1acff-b8a5-4217-8f8b-afbbf420958e"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "25fedfb4-d6de-4d7d-ae85-8f6fdd6e2436"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "42c22fbe-caf5-4ea6-8200-a1592d1370e1"
        } ]
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "_Account Balance Final"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "$session.params.from_flow != \"Collections\" AND $session.params.from_flow != \"bill_explanation\"",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Do you have any more questions about your bill?" ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, what else would you like to know about your invoice?", "Ok, how else can I help with your bill?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Comment puis-je vous aider dans ce cas?" ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "3ccde809-4fd5-4aea-971d-b234622cfd31"
  }, {
    "intent": "head_intent.bill_due_date",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Laissez moi vous trouver l'information." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "route",
        "value": "bill_due_date"
      } ]
    },
    "targetPage": "_Account Balance Start",
    "name": "a8f68ae0-ec1b-4d6f-8aa9-f4c23006fef2"
  }, {
    "intent": "head_intent.payment_history",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_history"
      } ]
    },
    "targetPage": "_Account Balance Start",
    "name": "b15e3d9e-98ca-4b9b-8d37-66065f07b858"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Great!" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Super!", "Génial!" ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "End Page",
    "name": "65f4eb72-bec9-4ef6-ad8c-285559c932a7"
  }, {
    "intent": "head_intent.payment_make",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_make"
      } ]
    },
    "targetFlow": "Payment",
    "name": "1eff55cc-870b-435a-a408-87bce5be666f"
  }, {
    "intent": "head_intent.payment_arrangements",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_arrangement"
      } ]
    },
    "targetFlow": "Payment",
    "name": "e8af21f8-ba35-47c5-aa84-72839e24c724"
  }, {
    "intent": "head_intent.payment_made",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "payment_made"
      } ]
    },
    "targetFlow": "Payment",
    "name": "0b5ceae9-e366-4295-8cd3-7ef1061a8ff7"
  }, {
    "intent": "supplemental.explain_unbilled",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Unbilled charges usually come from usage made within the current usage cycle." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Les frais non facturés sont généralement en lien avec de l'utilisation encourue au cours du cycle actuel." ]
        },
        "languageCode": "fr-ca"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.clmSummary.unpaidVoiceUsageAmt != 0.00 AND $session.params.clmSummary.unpaidDataUsageAmt != 0.00 AND $session.params.clmSummary.unpaidVoiceUsageAmt != null AND $session.params.clmSummary.unpaidDataUsageAmt != null",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I notice $$session.params.clmSummary.unpaidVoiceUsageAmt of voice usage, and $$session.params.clmSummary.unpaidDataUsageAmt of data usage in the current cycle." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je remarque $session.params.clmSummary.unpaidVoiceUsageAmt $ pour des frais de temps d'antenne, ainsi que $session.params.clmSummary.unpaidDataUsageAmt $ de frais en lien avec les données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.clmSummary.unpaidVoiceUsageAmt = 0.00 AND $session.params.clmSummary.unpaidDataUsageAmt != 0.00",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I notice $$session.params.clmSummary.unpaidDataUsageAmt of data usage in the current cycle." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je remarque $session.params.clmSummary.unpaidDataUsageAmt $ de frais en lien avec les données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.clmSummary.unpaidVoiceUsageAmt != 0.00 AND $session.params.clmSummary.unpaidDataUsageAmt = 0.00",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I notice $$session.params.clmSummary.unpaidVoiceUsageAmt of voice usage in the current cycle." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je remarque $session.params.clmSummary.unpaidVoiceUsageAmt $ pour des frais de temps d'antenne." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "125b77c8-ee44-489a-89d4-cb77e1032443"
  }, {
    "intent": "supplemental.suspension_timing",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Although I can't say exactly when your services will be disconnected, I can help you avoid any interruption of service. You can make a payment, report a payment you've already made, or set up a payment arrangement. What would you like to do?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Malgré que je ne sois pas en mesure que vous confirmer la date exacte de suspension, je peux vous aider à éviter une interruption de service. Vous pouvez faire un paiement, rapporter un paiement déjà fait, ou prendre une entente de paiement. Qu'aimeriez-vous faire?" ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "16cc146b-fe07-4883-be72-fa5fadd3f562"
  }, {
    "intent": "supplemental.check_another_number",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "At this time, I'm unable to check your account balance information for another line. " ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "À ce moment, je ne suis pas en mesure de vous donner de l'information sur la facture d'un autre compte." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "Bill and balance",
    "name": "8b5b020e-870c-4979-bd20-49a154369caa"
  }, {
    "condition": "$session.params.from_flow = \"Collections\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Collections",
    "name": "3f415c5b-9a4a-4510-b9c0-e801243960d5"
  }, {
    "condition": "$session.params.from_flow = \"bill_explanation\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "from_flow",
        "value": "billing"
      } ]
    },
    "targetFlow": "Bill Explanation",
    "name": "22cf1cc5-f8ec-44cb-a8b4-fc064cad478f"
  }, {
    "condition": "$session.params.clp_customer = \"true\" AND $session.params.transaction != \"payment history\" AND $session.params.transaction != \"bill due date\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "transaction",
        "value": "clp_account_balance"
      } ]
    },
    "name": "62bba60c-c768-4adc-9a55-949e844ae6a8"
  }, {
    "condition": "$session.params.clp_customer = null AND $session.params.transaction != \"payment history\" AND $session.params.transaction != \"bill due date\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "transaction",
        "value": "account balance"
      } ]
    },
    "name": "e22bba88-e345-430a-8acd-0fde5eafe0c3"
  }, {
    "condition": "$session.params.acctbalance_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "acctbalance_retrycnt",
        "value": 0
      } ]
    },
    "name": "e04d2c07-ccb0-4361-9cb2-02e062bbe59b"
  }, {
    "condition": "$session.params.acctbalance_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "acctbalance_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_acctbalance",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "bec3b172-39e3-4502-a7ba-169e6e0a6252"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "acctbalance_retrycnt",
        "value": "$sys.func.ADD($session.params.acctbalance_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.acctbalance_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas bien compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.acctbalance_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "I'm still not sure I got that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je ne crois toujours pas avoir bien compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "2dd70b7c-7972-40ba-a279-b4a7a1bd99ca"
  } ],
  "transitionRouteGroups": [ "billing_supp_routes" ]
}
