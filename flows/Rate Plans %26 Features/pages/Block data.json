{
  "name": "3600b3fe-1526-47ef-992d-b1d02b9d92a6",
  "displayName": "Block data",
  "form": {
    "parameters": [ {
      "displayName": "data_block",
      "required": true,
      "entityType": "@data-block",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "conditionalCases": [ {
            "cases": [ {
              "condition": "($session.params.blockdata_retrycnt = null OR $session.params.blockdata_retrycnt = 0) AND $session.params.data_block = null",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "You can block your data temporarily, which is until the end of the cycle, or indefinitely." ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "What would you like to do?" ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Vous pouvez bloquer temporairement vos données, soit jusqu'à la fin de votre cycle de facturation ou de façon indéterminé. Que voulez-vous faire ?" ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            }, {
              "condition": "$session.params.blockdata_retrycnt = 1",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "Are you looking to block data temporarily or indefinitely?" ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Voulez-vous bloquer vos données de façon temporaire ou permanente ?" ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            }, {
              "condition": "$session.params.blockdata_retrycnt = 2",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "For more information on block data, say temporarily, or press 1, forever or press 2." ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Pour plus d'information au sujet du bloquage des données, dites temporaire, ou faites le 1, ou dites permanent ou faites le 2." ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            } ]
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "  Are you looking to block data temporarily or indefinitely?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Cherchez-vous à bloquer vos données temporairement, ou indéfiniment?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "59c671a3-b25e-4c44-96d4-3a072cd66e84"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For more information on block data, say temporarily, or press 1, forever or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'informations sur le blocage des données, dites temporaire ou faites le 1. Indéfiniment, ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "2aa3d096-3de2-4015-9798-e1308f7ae657"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "001be243-0dd3-4b75-9fc4-78444136de57"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "  Are you looking to block data temporarily or indefinitely?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Cherchez-vous à bloquer vos données temporairement, ou indéfiniment?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "aad9aa6d-46b1-4f5c-8d49-15bf6392a9dc"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For more information on block data, say temporarily, or press 1, forever or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'informations sur le blocage des données, dites temporaire ou faites le 1. Indéfiniment, ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "568dce76-f298-4157-afe6-e3fb297ffe34"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "faa137e1-ace3-43af-9829-f6a4db05062a"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Block data"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "blockdata_retrycnt",
        "value": null
      }, {
        "parameter": "data_block",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "852497fb-822e-49c4-be34-ede72bed59ea"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "blockdata_retrycnt",
        "value": null
      }, {
        "parameter": "data_block",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "21d8c177-dfa9-4f10-b0b7-bc3e69213c4d"
  }, {
    "intent": "head_intent.enable_disable_data",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "enable_disable_data"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "22d2553a-7814-417e-9cc4-6a98c5ab5b76"
  }, {
    "intent": "head_intent.plans_add_feature",
    "condition": "$intent.params.feature_options = \"data block\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "data block route triggered" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "180718cf-c620-4656-9d79-82f69c8d532f"
  }, {
    "intent": "head_intent.plans_add_feature",
    "triggerFulfillment": {
    
    },
    "targetPage": "Add a feature ",
    "name": "4f109d35-742a-4762-957e-f2f4df11d21f"
  }, {
    "condition": "$session.params.data_block = \"ongoing\" OR $session.params.data_block = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "blockdata_retrycnt",
        "value": null
      }, {
        "parameter": "data_block",
        "value": null
      } ]
    },
    "targetPage": "Block data Ongoing",
    "name": "5893c51e-4a51-4811-8e80-0175187b82a2"
  }, {
    "condition": "$session.params.data_block = \"temporary\" OR $session.params.data_block = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "blockdata_retrycnt",
        "value": null
      }, {
        "parameter": "data_block",
        "value": null
      } ]
    },
    "targetPage": "Block data Temporary",
    "name": "66468593-b53a-4a88-89b2-bdbd493f9d59"
  }, {
    "condition": "$session.params.datablock_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "datablock_retrycnt",
        "value": 0
      } ]
    },
    "name": "0b3c6884-de6c-4c26-b3b9-4ac21e0f9820"
  }, {
    "condition": "$session.params.datablock_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "datablock_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "ef5b9534-f285-4194-98eb-8c85753a8a0c"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "blockdata_retrycnt",
        "value": "$sys.func.ADD($session.params.blockdata_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.blockdata_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.blockdata_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas bien compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "b23b7df1-52e8-4c79-8106-e4ed37e8740d"
  } ]
}
