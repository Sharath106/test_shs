{
  "name": "70162360-68a5-4945-8294-6f50b4c276f4",
  "displayName": "_RPC Determine plan filter",
  "form": {
  
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "Would you like a Canada-US plan?" ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Aimerez-vous un forfait Canada États-Unis ?" ]
      },
      "languageCode": "fr-ca"
    } ],
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "_RPC Determine plan filter"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "supplemental.rate_plan_change_difference",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "A **Canada-US** rate plan will allow you to use your voice, text and data plan the same in the US as you would at home." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "This means you can call and text US or Canadian numbers while in Canada or the US." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "A **Canada only** type of plan would simply cover for any nationwide usage." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Un forfait **Canada-États-Unis* vous permettra d'utiliser votre forfait voix, textos et données de la même manière aux États-Unis que chez vous." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Cela signifie que vous pouvez appeler/envoyer des SMS à des numéros américains ou canadiens lorsque vous êtes au Canada ou aux États-Unis." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Un forfait incluant **Canada uniquement* couvrirait simplement toute utilisation à l'échelle nationale." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "question-asked",
        "value": "true"
      } ]
    },
    "name": "57bc07b8-e6ff-433a-87c6-5e126c63889c"
  }, {
    "intent": "head_intent.plans_current_details",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Votre plan actuel comprend... ceci... ceci... et cela." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "question-asked",
        "value": "true"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.rate_plan_name : \"nationwide\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Your current plan includes **unlimited nationwide** talk \u0026 text." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Votre forfait actuel inclut les **appels et textos illimités au Canada**." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.rate_plan_name : \"US \"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Your current plan includes **unlimited Canada - U.S.** talk \u0026 text." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Votre forfait actuel inclut les **appels et textos illimités au Canada et aux États-Unis**." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      }, {
        "cases": [ {
          "condition": "$session.params.rate_plan_name : \"10GB\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "It also includes **10 GB** of data." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Il inclut aussi **10 Go** de données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.rate_plan_name : \"5GB\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "It also includes **5 GB** of data." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Il inclut aussi **5 Go** de données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.rate_plan_name : \"15GB\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "It also includes **15 GB** of data." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Il inclut aussi **15 Go** de données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.rate_plan_name : \"20GB\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "It also includes **20 GB** of data." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Il inclut aussi **20 Go** de données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.rate_plan_name : \"25GB\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "It also includes **25 GB** of data." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Il inclut aussi **25 Go** de données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.rate_plan_name : \"30GB\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "It also includes **30 GB** of data." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Il inclut aussi **30 Go** de données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.rate_plan_name : \"50GB\"",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "It also includes **50 GB** of data." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Il inclut aussi **50 Go** de données." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      }, {
        "cases": [ {
          "condition": "rate_plan_code = null",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "[Review your complete plan details here](https://telus.com/my-account/plans/select?INTCMP=Tcom_VirtualAssistant\u0026linktype=virtual_assistant)" ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "[Voyez plus de détails de votre forfait ici](https://telus.com/my-account/plans/select?INTCMP=Tcom_VirtualAssistant\u0026linktype=virtual_assistant)" ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "[Review your complete plan details here](https://telus.com/my-account/plans/select?INTCMP=Tcom_VirtualAssistant\u0026linktype=virtual_assistant)" ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "[Voyez plus de détails de votre forfait ici](https://telus.com/my-account/plans/select?INTCMP=Tcom_VirtualAssistant\u0026linktype=virtual_assistant)" ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "targetPage": "Current plan",
    "name": "c78bf30c-b4d1-4450-832b-2d6513f5499a"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "No problem, I left your plan as it is now." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pas de problème, j'ai laissé votre plan tel qu'il est actuellement." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetPage": "End Page",
    "name": "03fb2f62-f36d-40e4-91ae-95aa2841ce79"
  }, {
    "intent": "head_intent.plans_add_feature",
    "triggerFulfillment": {
    
    },
    "targetPage": "Add a feature ",
    "name": "1ffc6df6-2fae-41ee-b49a-baa4ec2b4a7c"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Great! A Canada-US plan." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Génial, un forfait Canada-États-Unis." ]
        },
        "languageCode": "fr-ca"
      } ],
      "webhook": "Rate Plan Change",
      "tag": "return_plan_filter",
      "setParameterActions": [ {
        "parameter": "include_rate_plan_filter",
        "value": "Canada-US"
      }, {
        "parameter": "exclude_rate_plan_filter",
        "value": "nationwide"
      }, {
        "parameter": "rate_plan_code",
        "value": null
      }, {
        "parameter": "include_rate_plan_filter_french",
        "value": "Can.-"
      }, {
        "parameter": "question-asked",
        "value": null
      } ]
    },
    "targetPage": "_RPC Pick a plan",
    "name": "d89490e7-81d0-407e-b926-130e44cea54f"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Great. A Canada only plan." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Génial, un forfait au Canada seulement." ]
        },
        "languageCode": "fr-ca"
      } ],
      "webhook": "Rate Plan Change",
      "tag": "return_plan_filter",
      "setParameterActions": [ {
        "parameter": "include_rate_plan_filter",
        "value": "nationwide"
      }, {
        "parameter": "exclude_rate_plan_filter",
        "value": "Canada-US"
      }, {
        "parameter": "rate_plan_code",
        "value": null
      }, {
        "parameter": "include_rate_plan_filter_french",
        "value": "au pays"
      }, {
        "parameter": "question-asked",
        "value": null
      } ]
    },
    "targetPage": "_RPC Pick a plan",
    "name": "9f0c2dd9-7745-46ba-a5d8-58254d08a8e1"
  } ],
  "eventHandlers": [ {
    "targetPage": "Rate plan change",
    "event": "webhook.error",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, I am having issues with your request." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, j'ai des problèmes avec votre demande." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "2ccbf416-7577-4982-99e6-11f50496fac0"
  }, {
    "targetPage": "Rate plan change",
    "event": "webhook.error.timeout",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, I am having issues with your request." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, j'ai des problèmes avec votre demande." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "name": "9d1817bc-a807-4a52-bb18-4f85af7d59bd"
  } ]
}
