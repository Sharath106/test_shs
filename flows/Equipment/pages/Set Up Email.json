{
  "name": "01690977-1c12-4c70-9b00-d3208540d284",
  "displayName": "Set Up Email",
  "form": {
    "parameters": [ {
      "displayName": "telus_email_vs_other_email",
      "required": true,
      "entityType": "@telus-email-vs-other-email",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Je ne crois pas avoir bien saisi.", "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Essayez-vous de configurer un courriel telus.net ou un autre type de courriel" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you trying to set up a telus.net email or another type of email?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "f415b9ae-2a68-4e1d-a5ac-0cb0b9d7ca89"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour configurer un courriel TELUS, dites telus ou faites le 1. Pour configurer un autre type de courriel, dites autre courriel ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To setup TELUS email say telus or press 1, to setup another type of email say another email or press 2." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "102a988e-17c6-4a0d-80af-42ec28b69ef2"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "1e4e7a48-64bc-405f-9756-46df95e465e1"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Essayez-vous de configurer un courriel telus.net ou un autre type de courriel?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "I'm sorry, I didn't understand that.", "Sorry, I didn't catch that.", "I didn't catch that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you trying to set up a telus.net email or another type of email?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "fd2c86d9-92b4-4776-93a8-dfad973fa0d5"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour configurer un courriel TELUS, dites telus ou faites le 1. Pour configurer un autre type de courriel, dites autre courriel ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To setup TELUS email say telus or press 1, to setup another type of email say another email or press 2." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "fa818597-63b0-478a-998f-d370de8628af"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "5a9fc62d-a9a1-4570-a55a-a06eb2008494"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Set Up Email"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.setupemail_retrycnt = null OR $session.params.setupemail_retrycnt = 0) AND $session.params.telus_email_vs_other_email = null",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Quel type de courriel cherchez-vous à configurer, un courriel telus.net ou un autre type?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "What type of email address are you looking to set up? Is it a telus.net email, or, another type of email." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.setupemail_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Essayez-vous de configurer un courriel telus.net ou un autre type de courriel?" ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Are you trying to set up a telus.net email, or, another type of email." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.setupemail_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Pour configurer un courriel TELUS, dites telus ou faites le 1. Pour configurer un autre type de courriel, dites autre courriel ou faites le 2." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "To setup TELUS email say telus or press 1, to setup another type of email say another email or press 2." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "setupemail_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_email_vs_other_email",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "a6f0fce5-e5a3-40d6-bd0a-8982dd42b5ca"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "setupemail_retrycnt",
        "value": null
      }, {
        "parameter": "telus_email_vs_other_email",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "28063ec2-271b-477a-83a2-a603a4edf4dd"
  }, {
    "condition": "$session.params.telus_email_vs_other_email = \"telus email\" OR $session.params.telus_email_vs_other_email = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "telus_email_vs_other_email",
        "value": null
      }, {
        "parameter": "setupemail_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "TELUS Email Address",
    "name": "1e03c6fc-ece6-49c2-b843-1e82a6da095f"
  }, {
    "condition": "$session.params.telus_email_vs_other_email = \"other email\" OR $session.params.telus_email_vs_other_email = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "telus_email_vs_other_email",
        "value": null
      }, {
        "parameter": "setupemail_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "Another Email Address",
    "name": "05b39244-7753-4c7e-88a9-a6477f7ddfa4"
  }, {
    "condition": "$session.params.setupemail_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "setupemail_retrycnt",
        "value": 0
      } ]
    },
    "name": "cf2194a7-02aa-460e-9971-930ec8b57d07"
  }, {
    "condition": "$session.params.setupemail_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "setupemail_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "34f46464-c96f-4f5c-957b-c007c7541031"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "setupemail_retrycnt",
        "value": "$sys.func.ADD($session.params.setupemail_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.setupemail_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.setupemail_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "e8338196-0397-4d87-b5cc-673eb835a770"
  } ]
}
