{
  "name": "3297392a-989b-46bc-8c9d-b0ae8cbfe2d2",
  "displayName": "Disable in app purchases",
  "form": {
    "parameters": [ {
      "displayName": "iphone_vs_android",
      "required": true,
      "entityType": "@iphone-vs-android",
      "fillBehavior": {
        "initialPromptFulfillment": {
        
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you have an iPhone or Android device?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Je suis désolé, je ne suis pas certain de comprendre.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avez-vous un appareil iPhone ou Android?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "208d50f5-033f-405d-8938-da2dc15c38e9"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you have an iPhone, say iPhone or press 1. If you have an Android, say Android or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous avez un iPhone, dites iPhone ou faites le 1. Si vous avez un appareil Android, dites Android ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "146cc138-a0ae-4b63-8393-0099db377085"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "c45dd767-ee08-422b-bcdf-f9431dff39b8"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you have an iPhone, or Android device?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avez-vous un appareil iPhone ou Android?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "10fae48a-afdd-47c5-8a7a-711e079ba8a5"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you have an iPhone, say iPhone or press 1. If you have an Android, say Android or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous avez un iPhone, dites iPhone ou faites le 1. Si vous avez un appareil Android, dites Android ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "0ac22905-b35f-4be5-9ad3-9d7430478227"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "b0fd1c44-28f5-4184-a60e-c6ec12b32697"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "intent",
      "value": "acctmgmt"
    }, {
      "parameter": "last_page",
      "value": "Disable in app purchases"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.disableinapppurchases_retrycnt = null OR $session.params.disableinapppurchases_retrycnt = 0) AND $session.params.iphone_vs_android = null",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Just to confirm, are you inquiring about an iPhone, or, an Android device?" ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Juste pour confirmer, vous vous renseignez sur un iPhone ou un appareil Android?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.disableinapppurchases_retrycnt = 1",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Do you have an iPhone, or Android device?" ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Avez-vous un iPhone ou un Android?" ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      }, {
        "condition": "$session.params.disableinapppurchases_retrycnt = 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "If you have an iPhone, say iPhone or press 1. If you have an Android, say Android or press 2." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Si vous avez un iPhone, dites iPhone ou faites le 1. Si vous avez un appareil Android, dites Android ou faites le 2." ]
            },
            "languageCode": "fr-ca"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sure, let me get you to a team member." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "fbb6c084-7a06-418e-a175-f680a7faa145"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "disableinapppurchases_retrycnt",
        "value": null
      }, {
        "parameter": "iphone_vs_android",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "9915f915-1d0d-419f-a279-0feeaf7a1b94"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "disableinapppurchases_retrycnt",
        "value": null
      }, {
        "parameter": "iphone_vs_android",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "4badac34-1ed9-46d2-929c-a9bd2597246f"
  }, {
    "condition": "$session.params.iphone_vs_android = \"iphone\" OR $session.params.iphone_vs_android = \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To disable in-app purchases on your Apple product:\n\nFrom the Settings app, Select General then select Restrictions.\nThen, Select Enable Restrictions and Set a passcode.\nAfter that, In the Allowed Content section, slide the In-App Purchases slider to Off." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pour désactiver la possibilité d'effectuer des achats intégrés à partir des applications de votre produit Apple:\n\nAccédez au Réglages, sélectionnez Général puis sélectionnez Restrictions.\nEnsuite, sélectionnez Activer les restrictions et créez un code.\nAprès cela, dans la section Contenu autorisé, désactivez l’option Achats intégrés." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "disableinapppurchases_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "b6e2cd41-d9ad-492f-b370-a4b0c8db45a7"
  }, {
    "condition": "$session.params.iphone_vs_android = \"android\" OR $session.params.iphone_vs_android = \"2\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To disable in-app purchases on your phone:\n\nFrom the Google Play Store app, select Menu then Select Settings.\nAfter that, Scroll to User Controls, and tap the box next to Use password to restrict purchases, and Confirm your Google password." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pour désactiver les achats intégrés sur votre téléphone:\n\nDans l'application Google Play Store, sélectionnez Menu puis sélectionnez Paramètres.\nAprès cela, faites défiler jusqu'à Commandes utilisateur et sélectionnez Exiger une authentification pour les achats et confirmez votre mot de passe Google." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "disableinapppurchases_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "f5471e52-f9a0-434d-aa3a-fdc371adf67d"
  }, {
    "condition": "$session.params.disableinapppurchases_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "disableinapppurchases_retrycnt",
        "value": 0
      } ]
    },
    "name": "6325b558-8c7d-4f50-9b66-9ba78452421d"
  }, {
    "condition": "$session.params.disableinapppurchases_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "disableinapppurchases_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "8df7497e-b419-417a-8677-fd084ce47cd8"
  }, {
    "condition": "$session.params.iphone_vs_android = 9 OR $session.params.iphone_vs_android = 0",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "iphone_vs_android",
        "value": null
      }, {
        "parameter": "disableinapppurchases_retrycnt",
        "value": "$sys.func.ADD($session.params.disableinapppurchases_retrycnt,1)"
      } ]
    },
    "targetPage": "Current Page",
    "name": "813c73e9-9500-4e58-8be4-f136aef7ea9b"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "disableinapppurchases_retrycnt",
        "value": "$sys.func.ADD($session.params.disableinapppurchases_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.disableinapppurchases_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.disableinapppurchases_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "e613d3c8-e5c5-4d9a-b8a0-ec15add79f6e"
  } ]
}
