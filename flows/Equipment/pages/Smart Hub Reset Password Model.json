{
  "name": "4efefc08-ff45-46be-ac6f-e1e7ed080009",
  "displayName": "Smart Hub Reset Password Model",
  "form": {
    "parameters": [ {
      "displayName": "smarthubpassword",
      "required": true,
      "entityType": "@smarthubpassword",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "You can easily change the network name or pass key for your Smart Hub over at telus.com.  Just to confirm, which Smart Hub brand do you have?" ]
            },
            "languageCode": "en"
          }, {
            "text": {
              "text": [ "Vous pouvez facilement changer le nom du réseau ou la clé d'accès de votre terminal intelligeant sur telus.com. Juste pour confirmer, quelle marque de terminal intelligeant avez-vous ?" ]
            },
            "languageCode": "fr-ca"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you have: a ZTE, or, a Huawei smart hub device?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avez-vous le terminal intelligent ZTE ou Huawei?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "58b68fbc-2cd5-44d0-bd8a-9c1c91db7c15"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For more information, say zte or press 1. Huawei or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'informations, dites ZTE ou faites le 1. Huawei ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "6a51ca9d-4f14-4b2f-b1c4-deb6f64a672f"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "8b0a647c-b123-405d-bacb-b6f5f430330c"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Do you have: a ZTE, or, a Huawei smart hub device?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avez-vous le terminal intelligent ZTE ou Huawei?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "c2b305e4-b752-4e1f-bc71-ff78185e94dc"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "For more information, say zte or press 1. Huawei or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Pour plus d'informations, dites ZTE ou faites le 1. Huawei ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "013708e3-6425-41a1-8456-13350bb3aade"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "d630dc47-864d-4897-9fd7-6cf604dd6417"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "Smart Hub Reset Password Model"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smarthubpassreset_retrycnt",
        "value": null
      }, {
        "parameter": "smarthubpassword",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "09481df5-a5f9-4f71-b2f2-7b3884782b9c"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smarthubpassreset_retrycnt",
        "value": null
      }, {
        "parameter": "smarthubpassword",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "6f538f31-3146-4a59-bf03-617979bb092b"
  }, {
    "condition": "$session.params.smarthubpassword = \"ZTE\" OR $session.params.smarthubpassword = \"1\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN7319003S"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN7319003K"
      }, {
        "parameter": "smarthubpassreset_retrycnt",
        "value": null
      }, {
        "parameter": "sms_flow_option",
        "value": "ZTE"
      }, {
        "parameter": "last_page_summary",
        "value": "changing the network name or pass key"
      }, {
        "parameter": "last_page_summaryfr",
        "value": "La réinitialisation du mot de passe de votre terminal intelligeant"
      }, {
        "parameter": "mandatory_ss",
        "value": "true"
      }, {
        "parameter": "sms_flow_status",
        "value": "offered"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "To reset your ZTE SmartHub password, you must use the TELUS website for the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I am sending you a link to the website now." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Pour réinitialiser le mot de passe de votre terminal intelligeant ZTE, vous devez utiliser le site web de TELUS pour la résolution la plus rapide. Il est facile à utiliser et vous permet d'éviter d'attendre en ligne." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire avec l'assistant virtuel de votre compte Mon TELUS." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "9ebf033a-a849-4030-a77d-2079e2c42964"
  }, {
    "condition": "$session.params.smarthubpassword = \"Huawei\" OR $session.params.smarthubpassword = \"2\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN731900W9"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900EN"
      }, {
        "parameter": "smarthubpassreset_retrycnt",
        "value": null
      }, {
        "parameter": "sms_flow_option",
        "value": "Huawei"
      }, {
        "parameter": "last_page_summary",
        "value": "changing the network name or pass key"
      }, {
        "parameter": "last_page_summaryfr",
        "value": "La réinitialisation du mot de passe de votre terminal intelligeant"
      }, {
        "parameter": "mandatory_ss",
        "value": "true"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "To reset your Huawei SmartHub password, you must use the TELUS website for the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I am sending you a link to the website now." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Pour réinitialiser le mot de passe de votre terminal intelligeant Huawei, vous devez utiliser le site web de TELUS pour la résolution la plus rapide. Il est facile à utiliser et vous permet d'éviter d'attendre en ligne." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire avec l'assistant virtuel de votre compte Mon TELUS." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "49498b14-09cc-4001-8b09-4d00597dc4e7"
  }, {
    "condition": "$session.params.smarthubpassreset_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smarthubpassreset_retrycnt",
        "value": 0
      } ]
    },
    "name": "d398d072-f5a8-49fe-8619-8c96095d53a5"
  }, {
    "condition": "$session.params.smarthubpassreset_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smarthubpassreset_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "130a7ff4-17e4-4822-8cf3-407e8731c287"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smarthubpassreset_retrycnt",
        "value": "$sys.func.ADD($session.params.smarthubpassreset_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.smarthubpassreset_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.smarthubpassreset_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "c302dbfc-fe5e-4ce0-b63b-64b91a1c2843"
  } ]
}
