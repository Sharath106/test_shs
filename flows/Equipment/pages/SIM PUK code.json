{
  "name": "c9186036-0cd1-481d-9ca9-2b09fde6d808",
  "displayName": "SIM PUK code",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_sim_puk_code",
      "required": true,
      "entityType": "@dtmf-menu-1-0",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Vous devez parler directement à un membre de l'équipe pour obtenir un code PUK.\n  Aimeriez-vous faire cela?" ]
            },
            "languageCode": "fr-ca"
          }, {
            "text": {
              "text": [ "To obtain the PUK code, I'll need to get you to a team member. Would you like to do that?" ]
            },
            "languageCode": "en"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous que je vous connecte à un membre de l'équipe maintenant?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like me to connect you to a team member now?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "ccca2fb7-6d85-4e7e-b297-087ae24e2b95"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour qu'un un membre de l'équipe vous aide, dites membre de l'équipe ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To connect with a team member, say team member or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "9e479eeb-9fcb-458b-8434-6b01c09977ff"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "5dc7aa9d-ab92-4706-adc6-971fd2f0a930"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Aimeriez-vous que je vous connecte à un membre de l'équipe maintenant?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Would you like me to connect you to a team member now?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "e6aeb383-b5af-4c51-b03d-24cc54b6b6ab"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Pour qu'un un membre de l'équipe vous aide, dites membre de l'équipe ou faites le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "To connect with a team member, say team member or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "8b5e48cb-d763-40cf-8792-18e2d2ee365b"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "6c15e7d6-180a-4c02-9411-cd856ebeb3b4"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "SIM PUK code"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "$session.params.repeat_counter = null OR $session.params.repeat_counter = 3",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Un code PUK ou un code de déblocage du NIP est nécessaire si un NIP erroné est entré trois fois consécutives.  Il vous permet de configurer un nouveau code NIP par la suite." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous avez dix tentatives pour entrer le bon code PUK, sinon la carte SIM sera verrouillée et deviendra inutilisable." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "A PUK code, or a PIN Unlocking Key, is needed if you've entered the SIM PIN incorrectly three times. It allows you to set up a new PIN after." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "You have 10 attempts to enter the correct PUK code, or else the SIM card will be locked and deemed unusable." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.repeat_counter = 1 OR $session.params.repeat_counter = 4",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Un code PUK, également connu sous le nom de clé de déverrouillage PIN, est nécessaire si vous entrez incorrectement le code PIN de la carte SIM trois fois." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Il vous permet de créer un nouveau code PIN par la suite." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous avez dix tentatives pour entrer le code PUK correct, sinon, la carte SIM sera verrouillée et inutilisable." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "A PUK code, also known as a PIN Unlocking Key, is necessary if you enter the SIM PIN incorrectly three times." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "It enables you to create a new PIN afterward. You have ten attempts to enter the correct PUK code, otherwise, the SIM card will become locked and unusable." ]
            },
            "languageCode": "en"
          }
        } ]
      }, {
        "condition": "$session.params.repeat_counter = 2 OR $session.params.repeat_counter = 5",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Si vous entrez incorrectement le code PIN de la carte SIM trois fois, vous aurez besoin d'un code PUK, également connu sous le nom de clé de déverrouillage PIN, pour établir un nouveau code PIN." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Vous avez dix chances d'entrer le code PUK correct, sinon, la carte SIM sera verrouillée et rendue inutilisable." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "If you enter the SIM PIN incorrectly three times, you will require a PUK code, also known as a PIN Unlocking Key, to establish a new PIN." ]
            },
            "languageCode": "en"
          }
        }, {
          "message": {
            "text": {
              "text": [ "You have ten opportunities to enter the correct PUK code, otherwise, the SIM card will be locked and rendered useless." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Pas de problème." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "simpukcode_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sim_puk_code",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "1f08c926-7014-4cdc-a1fe-19585c41e5e5"
  }, {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord, laissez-moi chercher quelqu'un pour vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Okay, let me get someone to help you." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "simpukcode_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sim_puk_code",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "51afc551-39e7-4c53-93e9-3a63b9da1b98"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Pas de problème." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "simpukcode_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sim_puk_code",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "0310f532-ee5b-4f5b-83ee-c35290896c96"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "simpukcode_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sim_puk_code",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "4f6f8211-eb46-4364-ae44-bd9e2116a7f2"
  }, {
    "condition": "$session.params.dtmf_sim_puk_code = \"0\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord, laissez-moi chercher quelqu'un pour vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Okay, let me get someone to help you." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "simpukcode_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sim_puk_code",
        "value": null
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "10b44402-6d98-4649-891e-b37d55e05e4e"
  }, {
    "condition": "$session.params.simpukcode_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "simpukcode_retrycnt",
        "value": 0
      } ]
    },
    "name": "25ec932f-41e2-4f49-bdd1-bfcaf23d8565"
  }, {
    "condition": "$session.params.simpukcode_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "simpukcode_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "eb117a84-87ca-46da-8159-5e4d5a674f94"
  }, {
    "condition": "$session.params.dtmf_sim_puk_code = 1 OR $session.params.dtmf_sim_puk_code = 3",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "dtmf_sim_puk_code",
        "value": null
      }, {
        "parameter": "simpukcode_retrycnt",
        "value": "$sys.func.ADD($session.params.simpukcode_retrycnt,1)"
      } ]
    },
    "targetPage": "Current Page",
    "name": "ec4e7aac-f782-45ae-b8fc-4a0e0c01a173"
  } ]
}
