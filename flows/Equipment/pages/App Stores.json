{
  "name": "5a0d418c-4bcd-41a7-b461-27f6ea7675c5",
  "displayName": "App Stores",
  "form": {
    "parameters": [ {
      "displayName": "iphone_vs_android",
      "required": true,
      "entityType": "@iphone-vs-android",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "conditionalCases": [ {
            "cases": [ {
              "condition": "($session.params.appstores_retrycnt = null OR $session.params.appstores_retrycnt = 0) AND $session.params.iphone_vs_android = null",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "You can download apps to increase various functionality of your device such as social media, games and video streaming." ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "What type of device are you using?" ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Vous pouvez télécharger des applications pour augmenter diverses fonctionnalités de votre appareil telles que les médias sociaux, les jeux et le vidéo en continu." ]
                  },
                  "languageCode": "fr-ca"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Quel type d'appareil utilisez-vous?" ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            }, {
              "condition": "$session.params.appstores_retrycnt = 1",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "Are you inquiring about an iPhone or an Android device?" ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Avez-vous un appareil iPhone ou Android?" ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            }, {
              "condition": "$session.params.appstores_retrycnt = 2",
              "caseContent": [ {
                "message": {
                  "text": {
                    "text": [ "If you have an iPhone, say iPhone or press 1. If you have an Android, say Android or press 2." ]
                  },
                  "languageCode": "en"
                }
              }, {
                "message": {
                  "text": {
                    "text": [ "Si vous vous avez un iPhone, dites iPhone ou faites le 1. Si vous avez un appareil Android, dites Android ou faites le 2." ]
                  },
                  "languageCode": "fr-ca"
                }
              } ]
            } ]
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you inquiring about an iPhone or an Android device?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avez-vous un iPhone ou un Android?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "e24ccd70-cc11-496d-be45-8b4edf4f1d4d"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you have an iPhone, say iPhone or press 1. If you have an Android, say Android or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous vous avez un iPhone, dites iPhone ou faites le 1. Si vous avez un appareil Android, dites Android ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "0477203c-bf6a-4850-bc8e-e292b673a5c2"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "f6274b76-2309-45f6-aa2e-85491a461e6b"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Are you inquiring about an iPhone or an Android device?" ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Avez-vous un iPhone ou un Android?" ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "4232d463-7dd6-4ccb-9277-5657557311e1"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "If you have an iPhone, say iPhone or press 1. If you have an Android, say Android or press 2." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Si vous vous avez un iPhone, dites iPhone ou faites le 1. Si vous avez un appareil Android, dites Android ou faites le 2." ]
              },
              "languageCode": "fr-ca"
            } ]
          },
          "name": "1bf144d1-6f8d-409d-a8b0-6dc837518aed"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "015b5800-0fd3-49e1-b736-7b4cfd123896"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "App Stores"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "appstores_retrycnt",
        "value": null
      }, {
        "parameter": "iphone_vs_android",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "629dd2c1-f056-45ed-add3-c3630a66735c"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "appstores_retrycnt",
        "value": null
      }, {
        "parameter": "iphone_vs_android",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "fd85046e-37a3-45a2-a690-3d6dea0f54bb"
  }, {
    "condition": "$session.params.iphone_vs_android = \"iphone\" OR $session.params.iphone_vs_android = \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To download apps to iOS devices, you will need to register your Apple ID or login.\nWhen downloading apps, check the description to make sure that it will work with the software version of your phone. " ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Sur les appareils iOS iPhone et iPad, vous devez créer un identifiant Apple au moyen de n’importe quelle adresse de courriel active que vous utilisez actuellement." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Lorsque vous téléchargez des applications, vérifiez la description pour confirmer qu’elles sont compatibles avec la version logicielle installée sur votre téléphone." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "appstores_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "998616d4-1783-4908-956e-44c1087b0b0f"
  }, {
    "condition": "$session.params.iphone_vs_android = \"android\" OR $session.params.iphone_vs_android = \"2\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "To download apps to Android devices, you will need to have or register a Gmail email address.\nWhen downloading apps, check the description to make sure that it will work with your phones software version.  " ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Pour télécharger des applications sur un téléphone Android, vous devez créer une adresse de courriel Gmail." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Lorsque vous téléchargez des applications, vérifiez la description pour confirmer qu’elles sont compatibles avec la version logicielle installée sur votre téléphone." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "appstores_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "End Page",
    "name": "1f3803f4-9f51-48c3-81ec-74a427b0c2ab"
  }, {
    "condition": "$session.params.appstores_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "appstores_retrycnt",
        "value": 0
      } ]
    },
    "name": "517d93ff-1358-4138-8dce-ca249c4109cd"
  }, {
    "condition": "$session.params.appstores_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "appstores_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "14acb81a-7c01-4f13-ab54-379782773678"
  }, {
    "condition": "$session.params.iphone_vs_android = 0 OR $session.params.iphone_vs_android = 9",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I'm Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "iphone_vs_android",
        "value": null
      }, {
        "parameter": "appstores_retrycnt",
        "value": "$sys.func.ADD($session.params.appstores_retrycnt,1)"
      } ]
    },
    "targetPage": "Current Page",
    "name": "41fc5a76-bcf4-46a1-9570-037bb7d3fd82"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "appstores_retrycnt",
        "value": "$sys.func.ADD($session.params.appstores_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.appstores_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.appstores_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "97aadff3-689c-4c2b-a64c-1cdd4a45dd0f"
  } ]
}
