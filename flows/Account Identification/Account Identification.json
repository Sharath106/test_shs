{
  "name": "06e89ee8-f3a0-4cb2-a345-621ddf7641be",
  "displayName": "Account Identification",
  "transitionRoutes": [ {
    "intent": "small_talk.repeat",
    "triggerFulfillment": {
    
    },
    "targetPage": "Repeat",
    "name": "5182de88-8ba5-46e8-a27d-b7a800526314"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord, laissez-moi chercher quelqu'un pour vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Okay, let me get someone to help you." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "9f1cdeb0-4965-4b93-8a00-5d1bde9effa6"
  }, {
    "condition": "true",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "phone_number",
        "value": "$sys.func.MID($session.params.searchResult.searchValue, 4, 10)"
      } ]
    },
    "name": "822b2c1d-79d0-4563-91f6-355f1febf5f3"
  }, {
    "condition": "$session.params.bill_informational = \"true\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Afin de vérifier votre compte et de vous aider à répondre à vos demandes de transaction, j'ai besoin de votre code PIN." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "In order to verify your account and provide assistance with your transaction inquiries, I'll need your PIN. " ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "route",
        "value": "bill_vague"
      } ]
    },
    "targetFlow": "Bill Vague",
    "name": "1c521fb5-c6c1-435b-9f27-7abacae47614"
  }, {
    "condition": "$session.params.sal_testing_rein = \"true\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Ask PIN",
    "name": "ebae385c-f074-4c84-af53-de39679ee66e"
  }, {
    "condition": "$session.params.routeDetails = null AND $session.params.conversation = null AND $session.params.searchResult = null AND $session.params.user = null AND $session.params.init != null",
    "triggerFulfillment": {
      "webhook": "Initialize Voice Bot",
      "tag": "init",
      "setParameterActions": [ {
        "parameter": "init_retry",
        "value": "account indentifcation flow"
      } ]
    },
    "name": "3b32f946-c079-4071-9107-6746980f4e3c"
  }, {
    "condition": "$session.params.error_code != null AND $session.params.error_code != 200",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, j'ai des problèmes avec la demande." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sorry, I am having issues with the request." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "API or PIN error",
    "name": "0d327ca4-e5c1-49bc-8297-5646a2a00824"
  }, {
    "condition": "$session.params.pin_verification = \"blocked\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "API or PIN error",
    "name": "f2c9c6fc-409d-4441-a909-3618006e919d"
  }, {
    "condition": "$session.params.targetAccount.isCollection = \"true\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Ask PIN",
    "name": "34f17498-db7f-449b-9df4-60e46cbb707c"
  }, {
    "condition": "($session.params.isTrustedUser = \"false\" OR $session.params.isTrustedUser = \"null\") AND ($session.params.route = \"account_balance\" OR $session.params.route = \"payment_history\" OR $session.params.route = \"bill_amount_due\" OR $session.params.route = \"bill_due_date\" OR $session.params.route = \"payment_made\" OR $session.params.route = \"bill_explanation\")",
    "triggerFulfillment": {
    
    },
    "targetPage": "Ask PIN",
    "name": "3dda120c-87a5-4414-9a81-3c9dd0c7052a"
  }, {
    "condition": "$session.params.isTrustedUser = \"true\" AND ($session.params.route = \"account_balance\" OR $session.params.route = \"payment_history\" OR $session.params.route = \"bill_amount_due\" OR $session.params.route = \"bill_due_date\" OR $session.params.route = \"payment_made\" OR $session.params.route = \"bill_explanation\")",
    "triggerFulfillment": {
    
    },
    "targetPage": "Transaction redirect",
    "name": "6ffcf6f8-1caf-4dfe-8f9a-f66bdcb3d6ff"
  }, {
    "condition": "($session.params.isTrustedUser = \"false\" OR $session.params.isTrustedUser = \"null\" OR $session.params.isTrustedUser = \"true\") AND $session.params.route = \"payment_arrangement\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Ask PIN",
    "name": "717bd43a-9407-4a0b-a41a-a7b3ea7135ea"
  }, {
    "condition": "$session.params.route = \"bib\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "AskPIN_Optional",
    "name": "541ec250-d4ca-4ccc-9c91-30d0952fa9ae"
  }, {
    "condition": "$session.params.route = \"bill_vague\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "AskPIN_Optional",
    "name": "85ce150d-7838-4b67-9d63-55645d52b527"
  }, {
    "condition": "$session.params.route = \"BIB_Amount\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "AskPIN_Optional",
    "name": "c6b2cbac-bb8e-48bc-b68a-24dd11f44f50"
  }, {
    "condition": "true",
    "triggerFulfillment": {
    
    },
    "targetPage": "Ask PIN",
    "name": "e1dc9e9c-dec1-44ff-a06d-b388143d6d86"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-match-default",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "J'ai du mal à comprendre cette question.", "J'ai mal compris votre demande.", "Je n'ai pas saisi ce que vous avez dit.", "Je crois que je ne vous suis pas.", "Je ne comprends pas de quoi vous me parlez." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I didn't get that. Can you say it again?", "I missed what you said. What was that?", "Sorry, could you say that again?", "Sorry, can you say that again?", "Can you say that again?", "Sorry, I didn't get that. Can you rephrase?", "Sorry, what was that?", "One more time?", "What was that?", "Say that one more time?", "I didn't get that. Can you repeat?", "I missed that, say that again?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "J'ai du mal à comprendre cette question.", "J'ai mal compris votre demande.", "Je n'ai pas saisi ce que vous avez dit.", "Je crois que je ne vous suis pas.", "Je ne comprends pas de quoi vous me parlez." ]
        },
        "languageCode": "fr"
      }, {
        "text": {
          "text": [ "I didn't get that. Can you say it again?", "I missed what you said. What was that?", "Sorry, could you say that again?", "Sorry, can you say that again?", "Can you say that again?", "Sorry, I didn't get that. Can you rephrase?", "Sorry, what was that?", "One more time?", "What was that?", "Say that one more time?", "I didn't get that. Can you repeat?", "I missed that, say that again?" ]
        },
        "languageCode": "en-ca"
      } ]
    },
    "name": "df750480-236f-42f7-9aa3-73a1fcb8e176"
  }, {
    "targetFlow": "Default Start Flow",
    "event": "sys.no-input-default",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "J'ai du mal à comprendre cette question.", "J'ai mal compris votre demande.", "Je n'ai pas saisi ce que vous avez dit.", "Je crois que je ne vous suis pas.", "Je ne comprends pas de quoi vous me parlez." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I didn't get that. Can you say it again?", "I missed what you said. What was that?", "Sorry, could you say that again?", "Sorry, can you say that again?", "Can you say that again?", "Sorry, I didn't get that. Can you rephrase?", "Sorry, what was that?", "One more time?", "What was that?", "Say that one more time?", "I didn't get that. Can you repeat?", "I missed that, say that again?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "J'ai du mal à comprendre cette question.", "J'ai mal compris votre demande.", "Je n'ai pas saisi ce que vous avez dit.", "Je crois que je ne vous suis pas.", "Je ne comprends pas de quoi vous me parlez." ]
        },
        "languageCode": "fr"
      }, {
        "text": {
          "text": [ "I didn't get that. Can you say it again?", "I missed what you said. What was that?", "Sorry, could you say that again?", "Sorry, can you say that again?", "Can you say that again?", "Sorry, I didn't get that. Can you rephrase?", "Sorry, what was that?", "One more time?", "What was that?", "Say that one more time?", "I didn't get that. Can you repeat?", "I missed that, say that again?" ]
        },
        "languageCode": "en-ca"
      } ]
    },
    "name": "59272374-ec8e-49f2-9303-75a7376e8514"
  }, {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je n'ai pas tout à fait compris. Pouvez-vous reformuler?" ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sorry, I didn't catch that. Can you rephrase your question?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "f8b058d5-37fa-44a8-97db-3490eba137da"
  }, {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je n'ai pas tout à fait compris. Pouvez-vous reformuler?" ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sorry, I didn't catch that. Can you rephrase your question?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "ee5b3b35-8f33-425e-9774-503fb420c11c"
  }, {
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Je n'ai toujours pas compris. Pouvez-vous répéter?" ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I'm sorry, I still didn't get that. Can you repeat?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "9f54f446-8041-4bfe-a865-e3b07d581c29"
  }, {
    "event": "sys.no-match-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Je n'ai toujours pas compris. Pouvez-vous répéter?" ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I'm sorry, I still didn't get that. Can you repeat?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "576f29f4-826e-4b09-935d-791049085d63"
  }, {
    "targetPage": "No Match 2",
    "event": "sys.no-input-3",
    "triggerFulfillment": {
    
    },
    "name": "97060f19-3eea-4644-a46b-fb3909fef5ca"
  }, {
    "targetPage": "No Match 2",
    "event": "sys.no-match-3",
    "triggerFulfillment": {
    
    },
    "name": "79226353-1ae6-43c1-998c-5b1fad87c7e8"
  } ],
  "nluSettings": {
    "modelType": "MODEL_TYPE_CUSTOM",
    "classificationThreshold": 0.30000001,
    "modelTrainingMode": "MODEL_TRAINING_MODE_MANUAL"
  }
}
