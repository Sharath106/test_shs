{
  "name": "2892fec6-907a-422e-8b26-ba56bb59c528",
  "displayName": "Check Older Month",
  "form": {
  
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "Est-ce que votre facture datant de plus de 3 mois ?" ]
      },
      "languageCode": "fr-ca"
    }, {
      "text": {
        "text": [ "Is your inquiry about a bill that is older than 3 months?", "Are you asking about a bill that is more than 3 months old?" ]
      },
      "languageCode": "en"
    } ],
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "check older month"
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "D'accord. Pour voir vos factures datant de 3 mois ou plus, vous pouvez consulter votre compte Mon TELUS en ligne ou l'application Mon TELUS." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Got it. To view invoices 3 months or older, you can use your online My TELUS account or the My TELUS app." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "route",
        "value": "check_older_bill"
      }, {
        "parameter": "from_flow",
        "value": "bill_explanation"
      }, {
        "parameter": "from_page",
        "value": "check_older"
      } ]
    },
    "targetFlow": "Bill Vague",
    "name": "4a430615-8d2d-4ff8-8105-940b45c3926c"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Veuillez indiquer le mois pour lequel vous souhaitez voir les détails de votre facture. Sinon, \", \"Pour quel mois souhaitez-vous voir les détails de votre facture? Ou" ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Please provide the month for which you would like to see your bill breakdown.  Or ", "Which month would you like to see a breakdown of your bill for?   Or " ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "Select Current Bill",
    "name": "cb84dce8-53bc-44cd-833c-4744e225aef4"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.conversation.language = \"en-US\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Universal handoff",
    "name": "c7faebb5-d09e-4fd2-b1f2-a1a7eadbb21e"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "($session.params.agent_attempt = 0 OR $session.params.agent_attempt = 1 OR $session.params.agent_attempt = 2) AND $session.params.conversation.language = \"fr-CA\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "agent_attempt",
        "value": "$sys.func.ADD($session.params.agent_attempt, 1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.agent_attempt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Je comprends votre inquiétude, et je suis là pour vous aider. Étant donné que le temps d'attente pour nos agents peut être plus long que d'habitude, je suis convaincu que je peux vous aider avec votre demande. Souhaitez-vous continuer notre conversation afin que je puisse faire de mon mieux pour vous aider ?" ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "condition": "$session.params.agent_attempt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Je suis là pour vous aider en toute confiance et avec toutes vos questions concernant votre facturation. Voudriez-vous me donner une autre chance pour vous aider ?" ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Afin de vous faire gagner du temps, veuillez m'indiquer en détail vos questions de facturation." ]
              },
              "languageCode": "fr-ca"
            }
          } ]
        } ]
      } ]
    },
    "name": "35d8b621-ef18-48fa-85b7-e77b526fe50f"
  }, {
    "intent": "head_intent.live_agent_hand_off",
    "condition": "$session.params.agent_attempt = 3 AND $session.params.conversation.language = \"fr-CA\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Bien sure, laissez-moi vous mettre en contacte avec un membre de l'équipe." ]
        },
        "languageCode": "fr-ca"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "92e1e2d6-57a7-4616-b8e7-7c522e0c08d4"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I didn't catch that. " ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "4202f722-45ce-4186-b665-8dc2e4123baa"
  }, {
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I still didn't hear you.", "I still didn't get that." ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "e7f8dc7c-ced9-441b-843f-7604cb4a9558"
  }, {
    "targetFlow": "Universal handoff",
    "event": "sys.no-input-3",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Sorry, I still couldn't catch that. Let me get you over to a team member who can help you." ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "9028fc64-c0bc-4d5d-9d53-d0f3a19abc7f"
  }, {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je n'ai pas tout à fait compris.", "Je ne crois pas avoir bien saisi." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Est-ce que votre facture datant de plus de 3 mois ?" ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sorry, I didn't understand that. ", "Sorry, I didn't catch that.", "I didn't get that." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Is your inquiry about a bill that is older than 3 months?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "159184a7-7374-4510-a4fd-3358e07a71f3"
  }, {
    "event": "sys.no-match-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Si votre facture est datant de plus de 3 mois, dites oui. Sinon, dites non." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "If your inquiry is about a bill that is older than 3 months, say yes. Otherwise, say no." ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "aa8fcf53-486d-4180-b265-23a7f7c45ab6"
  }, {
    "targetFlow": "Universal handoff",
    "event": "sys.no-match-3",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Désolé, je n'ai toujours pas bien saisi. Laissez-moi vous mettre en contact avec un membre de l'équipe pour vous aider." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Sorry, I still couldn't catch that. Let me get you over to a team member who can help you." ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "aaff0337-818e-40bd-9685-5b20f9a39d83"
  } ]
}
