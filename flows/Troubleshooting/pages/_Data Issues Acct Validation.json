{
  "name": "15b7dfae-1fda-4f6d-bdd8-ea5429ed5709",
  "displayName": "_Data Issues Acct Validation",
  "form": {
  
  },
  "entryFulfillment": {
    "webhook": "Rate Plan Change",
    "tag": "rate_plan_change_initial",
    "setParameterActions": [ {
      "parameter": "ban",
      "value": "$session.params.subscriber_info[0].ban"
    }, {
      "parameter": "last_page",
      "value": "_Data Issues Acct Validation"
    } ]
  },
  "transitionRoutes": [ {
    "condition": "$session.params.subscriber_info[0].sub_status = null AND $session.params.invalid_number_counter = \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Cela ne ressemble toujours pas à un numéro de téléphone associé à votre compte." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "J'ai des questions que je peux encore vous poser." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "It still doesn't appear to be a number that's associated with your profile." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Let's try and fix the data issues on your phone. I have some questions I can still ask you. " ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "_Data Issues Recently port in",
    "name": "69b3a9c9-ae20-4f6a-8f3b-480ddf3022c9"
  }, {
    "condition": "$session.params.subscriber_info[0].sub_status = null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Il semble que ce numéro ne soit pas associé à votre profil ou ne soit plus actif sur ce profil." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "J'ai des questions que je peux encore vous poser." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "This number does not appear to be associated with your profile." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Let's try and fix the data issues on your phone. I have some questions I can still ask you. " ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "phone_number",
        "value": null
      }, {
        "parameter": "invalid_number_counter",
        "value": "1"
      }, {
        "parameter": "phone_number_counter",
        "value": null
      }, {
        "parameter": "error_code",
        "value": null
      }, {
        "parameter": "error_full_response",
        "value": null
      }, {
        "parameter": "api_delay",
        "value": null
      }, {
        "parameter": "error_api_name",
        "value": null
      }, {
        "parameter": "error_retry",
        "value": null
      } ]
    },
    "targetPage": "_Data Issues Recently port in",
    "name": "1a1acbd1-c514-443f-805f-a78d525773c7"
  }, {
    "condition": "$session.params.error_code != null AND $session.params.api_delay = \"false\" AND $session.params.error_retry != \"1\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "⏳ Veuillez patientez, je continue de recueillir vos informations." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "⏳ Please wait, I am still working on your request." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "error_code",
        "value": null
      }, {
        "parameter": "error_retry",
        "value": 1
      }, {
        "parameter": "api_delay",
        "value": null
      }, {
        "parameter": "error_full_response",
        "value": null
      }, {
        "parameter": "error_api_name",
        "value": null
      } ],
      "returnPartialResponses": true
    },
    "targetPage": "Current Page",
    "name": "f0ccb812-19a8-487b-a644-49cb8dcd9c8e"
  }, {
    "condition": "($session.params.error_code != null AND $session.params.error_retry = \"1\") OR ($session.params.api_delay = \"true\" AND $session.params.error_code != null)",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Essayons de résoudre les problèmes de données sur votre téléphone." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Let's try and fix the data issues on your phone." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "error_retry",
        "value": null
      }, {
        "parameter": "error_code",
        "value": null
      }, {
        "parameter": "api_delay",
        "value": null
      }, {
        "parameter": "error_full_response",
        "value": null
      }, {
        "parameter": "error_api_name",
        "value": null
      } ]
    },
    "targetPage": "_Data Issues Recently port in",
    "name": "68763cff-0607-44d6-a280-5fcf719306c7"
  }, {
    "condition": "$session.params.subscriber_info[0].roleTxt != \"Account Owner\" AND $session.params.subscriber_info[0].roleTxt != \"Account Manager\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Afin de vérifier l'état du compte, vous devrez demander au propriétaire ou au gestionnaire du compte de se connecter." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "J'ai des questions que je peux encore vous poser." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "In order to check the status of the account, you will need to have ask the account owner or manager to sign in." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Let's try and fix the data issues on your phone. I have some questions I can still ask you. " ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "_Data Issues Recently port in",
    "name": "fa763e80-73d0-44d6-ab7a-3e38deb04547"
  }, {
    "condition": "$session.params.subscriber_info[0].accountTypeCd = \"B\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "out_of_scope_business"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "81b48f31-d690-48fd-b381-586a9960abe5"
  }, {
    "condition": "$session.params.subscriber_info[0].accountTypeCd = \"C\" AND $session.params.subscriber_info[0].accountSubTypeCd != \"I\" AND $session.params.subscriber_info[0].accountSubTypeCd != \"E\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "out_of_scope_corporate"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "323414fb-7921-4bf7-9ae4-e424f432201a"
  }, {
    "condition": "$session.params.subscriber_info[0].accountTypeCd = \"I\" AND ($session.params.subscriber_info[0].accountSubTypeCd = \"B\" OR $session.params.subscriber_info[0].accountSubTypeCd = \"Q\" OR $session.params.subscriber_info[0].accountSubTypeCd = \"Y\")",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "route",
        "value": "out_of_scope_prepaid"
      } ]
    },
    "targetFlow": "Account Management",
    "name": "4d839eb0-ba08-41cf-9ac0-f17e9cd3a8a4"
  }, {
    "condition": "($session.params.subscriber_info[0].ban_status = \"S\" AND $session.params.suspend_reason = \"VADR\") OR ($session.params.subscriber_info[0].ban_status = \"S\" AND $session.params.suspend_reason = \"CVAD\")",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Il semble que votre compte ait été mis en attente pour une **déconnexion de vacances.**" ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Cela empêchera vos données de fonctionner sur le réseau cellulaire." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Si vous souhaitez rétablir vos services, vous devrez parler à un membre de l'équipe." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "It looks like your account has been put on hold for a **vacation disconnect**." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "This will block your data from working on the cellular network. " ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "If you wish to restore your services, you will need to speak to a team member. " ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "selfserve_mandatory",
        "value": "false"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "d11f769c-ce00-425f-8b91-42a946837d8b"
  }, {
    "condition": "$session.params.subscriber_info[0].ban_status = \"S\" AND $session.params.suspend_reason = \"SNP\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Le statut actuel de votre compte est **suspendu pour non-paiement**, cela empêchera vos données de fonctionner sur le réseau cellulaire." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I checked your account and it is **suspended for non-payment**, this will block your data from working on the cellular network. " ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "_Data Issues SNP",
    "name": "fd296374-4d34-41b2-a45b-90f1eb49a754"
  }, {
    "condition": "$session.params.subscriber_info[0].ban_status = \"S\" AND $session.params.subscriber_info[0].ban_status != \"SNP\" AND $session.params.subscriber_info[0].ban_status != \"VADR\" AND $session.params.subscriber_info[0].ban_status != \"CVAD\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Votre compte est suspendu**. Vous devrez parler à un membre de l'équipe pour restaurer votre service, avant que les données ne fonctionnent sur le réseau cellulaire." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "Your account is **suspended**. You will need to talk to a team member to restore your service, before data will work on the cellular network. " ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "selfserve_mandatory",
        "value": "false"
      } ]
    },
    "targetFlow": "Universal handoff",
    "name": "4e2b0113-914e-49f6-bb8a-bfe77d6fce49"
  }, {
    "condition": "$session.params.subscriber_info[0].ban_status = \"O\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Je suis en mesure de confirmer que votre compte est **actif** et que l'accès au réseau cellulaire devrait fonctionner." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "I am able to confirm that your account is **active** and access to the cellular network should be working. " ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Let's try and fix the data issues on your phone." ]
        },
        "languageCode": "en"
      } ]
    },
    "targetPage": "_Data Issues Recently port in",
    "name": "b7fc9070-de94-4911-abe8-a742455c886e"
  } ],
  "eventHandlers": [ {
    "targetPage": "_Data Issues Recently port in",
    "event": "webhook.error",
    "triggerFulfillment": {
    
    },
    "name": "5e081e7c-a3ce-4341-91a6-60be39a525d4"
  }, {
    "targetPage": "_Data Issues Recently port in",
    "event": "webhook.error.timeout",
    "triggerFulfillment": {
    
    },
    "name": "eea9709d-2ce7-45fe-84df-c9b88db1b590"
  } ]
}
