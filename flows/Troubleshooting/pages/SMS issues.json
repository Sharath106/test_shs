{
  "name": "e15a246a-b8c5-4baf-a24d-a609f6f81559",
  "displayName": "SMS issues",
  "form": {
    "parameters": [ {
      "displayName": "dtmf_sms_issue",
      "required": true,
      "entityType": "@dtmf-menu-9-0",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Êtes-vous capable de recevoir des messages texte sur votre appareil ?" ]
            },
            "languageCode": "fr-ca"
          }, {
            "text": {
              "text": [ "Can you receive text messages on your device?" ]
            },
            "languageCode": "en"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Êtes-vous capable de recevoir des messages texte sur votre appareil ?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Can you receive text messages on your device?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "e193967d-6e1d-4c8f-b5fe-b9d1ab8c470f"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Si vous êtes capable de recevoir des messages texte sur votre appareil, dites oui, ou faites le 9. Sinon, dites non, ou faite le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "If you can receive text messages on your device, say yes, or press 9. If not, say no, or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "d55ffe7d-2607-41d0-b61b-b2b17065c9e6"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
          
          },
          "name": "6a274ba0-12b5-44a0-a81c-e078d78aaaae"
        }, {
          "event": "sys.no-input-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne pense pas avoir compris.", "Désolé, je ne comprends pas.", "Je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Êtes-vous capable de recevoir des messages texte sur votre appareil ?" ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Sorry, I didn’t understand that.", "Sorry, I didn't catch that.", "I didn't get that." ]
              },
              "languageCode": "en"
            }, {
              "text": {
                "text": [ "Can you receive text messages on your device?" ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "b53eb8ed-8c7d-4e2c-87a0-81d0902f0478"
        }, {
          "event": "sys.no-input-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Si vous êtes capable de recevoir des messages texte sur votre appareil, dites oui, ou faites le 9. Sinon, dites non, ou faite le 0." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "If you can receive text messages on your device, say yes, or press 9. If not, say no, or press 0." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "39fd03f1-db2e-4fda-a7e4-63697a074464"
        }, {
          "targetPage": "No Match 2",
          "event": "sys.no-input-3",
          "triggerFulfillment": {
          
          },
          "name": "6f646f2f-fef8-47cb-b3a5-38a282cad08a"
        } ]
      },
      "advancedSettings": {
        "dtmfSettings": {
          "enabled": true,
          "maxDigits": 1,
          "useSystemEntityRule": false,
          "endpointingTimeoutDuration": {
            "seconds": 8
          }
        }
      }
    } ]
  },
  "entryFulfillment": {
    "setParameterActions": [ {
      "parameter": "last_page",
      "value": "SMS issues"
    }, {
      "parameter": "sms_flow_status",
      "value": "offered"
    } ],
    "conditionalCases": [ {
      "cases": [ {
        "condition": "($session.params.smsissue_retrycnt = null AND $session.params.dtmf_sms_issue = null) OR $session.params.smsissue_retrycnt \u003c= 2",
        "caseContent": [ {
          "message": {
            "text": {
              "text": [ "Laissez-moi voir comment je peux vous aider avec les problèmes de messagerie." ]
            },
            "languageCode": "fr-ca"
          }
        }, {
          "message": {
            "text": {
              "text": [ "Let me see how I can help with texting issues." ]
            },
            "languageCode": "en"
          }
        } ]
      } ]
    } ]
  },
  "transitionRoutes": [ {
    "intent": "small_talk.confirmation_yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN731900KW"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900KB"
      }, {
        "parameter": "smsissue_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sms_issue",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "mandatory_ss",
        "value": "true"
      }, {
        "parameter": "last_page_summary",
        "value": "fixing your text message issues"
      }, {
        "parameter": "last_page_summaryfr",
        "value": "Le dépannage de votre messagerie texte"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Pour de l'information sur le dépannage de votre messagerie texte, vous devez utiliser le site Web de TELUS pour obtenir la résolution la plus rapide. Il est simple à utiliser et vous permet d'éviter d'attendre en ligne." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire à l'assistant virtuel dans votre compte Mon TELUS." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "To get information on how to fix your text message issues, you must use the TELUS website for the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I am sending you a link to the website now." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Gardez à l'esprit qu'une première étape consiste généralement à redémarrer l'appareil. Cela permet de faire des nettoyages qui peuvent souvent régler divers problèmes liés aux messages." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Keep in mind that a first step is usually restarting your device. It helps clearing minor glitches, often resolving various messaging issues." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I also have other simple troubleshooting steps that help with most common text issues." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "79baef24-8374-490c-beba-beadf53d9837"
  }, {
    "intent": "small_talk.confirmation_no",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smsissue_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sms_issue",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      } ]
    },
    "targetPage": "SMS Reception Issues Coverage Check",
    "name": "371ab60c-01f6-46d4-8c6e-0bf3db1762a9"
  }, {
    "intent": "small_talk.nevermind",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Pas de problème." ]
        },
        "languageCode": "fr-ca"
      }, {
        "text": {
          "text": [ "No problem." ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "smsissue_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sms_issue",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "declined"
      } ]
    },
    "targetPage": "End Page",
    "name": "ca9014cb-05b7-4563-95c5-a26d3311a2dc"
  }, {
    "condition": "$session.params.dtmf_sms_issue = \"9\"",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Gardez à l'esprit qu'une première étape consiste généralement à redémarrer l'appareil. Cela permet de faire des nettoyages qui peuvent souvent régler divers problèmes liés aux messages." ]
        },
        "languageCode": "fr-ca"
      } ],
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN731900KW"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900KB"
      }, {
        "parameter": "smsissue_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sms_issue",
        "value": null
      }, {
        "parameter": "sms_flow_status",
        "value": "accepted"
      }, {
        "parameter": "last_page_summary",
        "value": "fixing your text message issues"
      }, {
        "parameter": "last_page_summaryfr",
        "value": "dépanner votre messagerie texte"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "($session.params.routeDetails.province = \"NB\" OR $session.params.routeDetails.province = \"NS\" OR $session.params.routeDetails.province = \"NF\" OR $session.params.routeDetails.province = \"PE\") AND $session.params.app_first_poc = true",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Je vous envoie maintenant un lien vers le site Web." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Si vous avez encore besoin d'aide, vous pouvez demander un rappel prioritaire avec l'assistant virtuel de votre compte Mon TELUS." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "To get information on how to fix your text message issues, you must use the TELUS website for the fastest resolution. It's easy to use and allows you to avoid waiting on the line." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I am sending you a link to the website now." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "If you still need help, you can request a priority call back from the virtual assistant in your My TELUS account." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Je peux aussi vous envoyer un message avec plus d'informations sur la résolution des problèmes de messages texte." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Keep in mind that a first step is usually restarting your device. It helps clearing minor glitches, often resolving various messaging issues." ]
              },
              "languageCode": "en"
            }
          }, {
            "message": {
              "text": {
                "text": [ "I also have other simple troubleshooting steps that help with most common text issues." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "f2db3cb9-fdb9-4d5c-83d0-4b13f4a69530"
  }, {
    "condition": "$session.params.dtmf_sms_issue = \"0\"",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smsissue_retrycnt",
        "value": null
      }, {
        "parameter": "dtmf_sms_issue",
        "value": null
      } ]
    },
    "targetPage": "SMS Reception Issues Coverage Check",
    "name": "c78e8acc-2160-41cf-a5db-587886c0007f"
  }, {
    "condition": "$session.params.smsissue_retrycnt = null",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "$session.params.smsissue_retrycnt",
        "value": 0
      } ]
    },
    "name": "e5a509f0-f083-4d98-bdf3-ead88ef0840e"
  }, {
    "condition": "$session.params.smsissue_retrycnt \u003e 2",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smsissue_retrycnt",
        "value": null
      } ]
    },
    "targetPage": "No Match 2",
    "name": "c28aa4d4-d00d-45f2-b5fb-88a38a0f9ce6"
  }, {
    "condition": "false",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "sms_template",
        "value": "0009SaHN731900KW"
      }, {
        "parameter": "sms_template_fr",
        "value": "0009SaHN731900KB"
      } ]
    },
    "targetFlow": "SMS Flow",
    "name": "1a74337f-7b97-4dea-9b87-cddceff5dc45"
  } ],
  "eventHandlers": [ {
    "targetPage": "Current Page",
    "event": "NO_INPUT",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "smsissue_retrycnt",
        "value": "$sys.func.ADD($session.params.smsissue_retrycnt,1)"
      } ],
      "conditionalCases": [ {
        "cases": [ {
          "condition": "$session.params.smsissue_retrycnt = 0",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je ne crois pas avoir bien saisi." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't quite get that." ]
              },
              "languageCode": "en"
            }
          } ]
        }, {
          "condition": "$session.params.smsissue_retrycnt = 1",
          "caseContent": [ {
            "message": {
              "text": {
                "text": [ "Désolé, je n'ai pas tout à fait compris." ]
              },
              "languageCode": "fr-ca"
            }
          }, {
            "message": {
              "text": {
                "text": [ "Sorry, I didn't catch that." ]
              },
              "languageCode": "en"
            }
          } ]
        } ]
      } ]
    },
    "name": "0ce712c3-e91a-49a9-b90f-db9dcab6dee1"
  } ]
}
