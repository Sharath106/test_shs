{
  "name": "3013b92e-084c-4cb7-83e1-9606cdf047fe",
  "displayName": "Ask phone number",
  "form": {
    "parameters": [ {
      "displayName": "phone-number",
      "required": true,
      "entityType": "@sys.phone-number",
      "fillBehavior": {
        "initialPromptFulfillment": {
          "messages": [ {
            "text": {
              "text": [ "Quel est le numéro de téléphone que vous avez utilisé lorsque vous avez commandé?" ]
            },
            "languageCode": "fr-ca"
          }, {
            "text": {
              "text": [ "What is the phone number that you used when placing the order?" ]
            },
            "languageCode": "en"
          } ],
          "setParameterActions": [ {
            "parameter": "phone_counter",
            "value": "$sys.func.ADD($session.params.phone_counter, 1)"
          }, {
            "parameter": "count",
            "value": "$sys.func.ADD($session.params.count, 1)"
          } ]
        },
        "repromptEventHandlers": [ {
          "event": "sys.no-match-1",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Veuillez fournir le bon numéro de téléphone associé avec la commande, s'il vous plaît." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Please provide the correct phone number associated with the order." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "38a682b7-3950-4f0f-95c1-87cc3aa0871d"
        }, {
          "event": "sys.no-match-2",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Veuillez fournir un numéro de téléphone valide composé de 10 chiffres, s'il vous plaît." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "Please provide a valid 10-digit phone number." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "8315c6a8-2e53-4411-b95a-fc05e46f5300"
        }, {
          "targetFlow": "Universal handoff",
          "event": "sys.no-match-3",
          "triggerFulfillment": {
            "messages": [ {
              "text": {
                "text": [ "Désolé, je ne comprends toujours pas. Laissez-moi vous transférer à un agent pour plus d'assistance." ]
              },
              "languageCode": "fr-ca"
            }, {
              "text": {
                "text": [ "I'm sorry, I'm still not understanding. Let me transfer you to an agent for more assistance." ]
              },
              "languageCode": "en"
            } ]
          },
          "name": "01377e11-fe8b-4766-af71-1052c8c0b757"
        } ]
      },
      "redact": true,
      "advancedSettings": {
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    } ]
  },
  "entryFulfillment": {
  
  },
  "transitionRoutes": [ {
    "condition": "$page.params.status = \"FINAL\"",
    "triggerFulfillment": {
    
    },
    "targetPage": "Get order status info",
    "name": "b6671bb2-443b-4db0-8090-d1b098deb37a"
  } ]
}
